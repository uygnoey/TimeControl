!function(a,b){var c={jquery:b},d={},e=function(a,b){function c(b,c){var d=a[b];a[b]=a[c],a[c]=d}function d(b,d,f){var g=d,h=a[b];c(b,f);for(var i=d;f>i;i++)(e(a[i],h)||!e(h,a[i])&&i%2==1)&&(c(i,g),g++);return c(f,g),g}var e=null,a=b?a.slice(0):a;this.setCompare=function(a){e=a},this.run=function(b,c){var e=null;return"number"!=typeof b&&(b=0),"number"!=typeof c&&(c=a.length-1),c>b&&(e=b+Math.ceil(.5*(c-b)),newPivot=d(e,b,c),this.run(b,newPivot-1),this.run(newPivot+1,c)),a}},f=function(){this.isIndexDepth=function(a){return"string"==typeof a&&-1!=a.indexOf(".")?!0:!1},this.getIndexList=function(a){var b=[],c=""+a;if(1==c.length)b[0]=parseInt(a);else for(var d=c.split("."),e=0;e<d.length;e++)b[e]=parseInt(d[e]);return b},this.changeIndex=function(a,b,c){for(var d=this.getIndexList(c).length,e=this.getIndexList(a),f=this.getIndexList(b),g=0;d>g;g++)e.shift();return f.concat(e).join(".")},this.getNextIndex=function(a){var b=this.getIndexList(a),c=b.pop()+1;return b.push(c),b.join(".")},this.getParentIndex=function(a){if(!this.isIndexDepth(a))return null;var b=this.getIndexList(a);return 2==b.length?""+b[0]:b.length>2?(b.pop(),b.join(".")):void 0}},g={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,h,i,j="",k=0;for(a=g._utf8_encode(a);k<a.length;)b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=b>>2,f=(3&b)<<4|c>>4,h=(15&c)<<2|d>>6,i=63&d,isNaN(c)?h=i=64:isNaN(d)&&(i=64),j=j+g._keyStr.charAt(e)+g._keyStr.charAt(f)+g._keyStr.charAt(h)+g._keyStr.charAt(i);return j},decode:function(a){var b,c,d,e,f,h,i,j="",k=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<a.length;)e=g._keyStr.indexOf(a.charAt(k++)),f=g._keyStr.indexOf(a.charAt(k++)),h=g._keyStr.indexOf(a.charAt(k++)),i=g._keyStr.indexOf(a.charAt(k++)),b=e<<2|f>>4,c=(15&f)<<4|h>>2,d=(3&h)<<6|i,j+=String.fromCharCode(b),64!=h&&(j+=String.fromCharCode(c)),64!=i&&(j+=String.fromCharCode(d));return j=g._utf8_decode(j)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b=String.fromCharCode(239)+String.fromCharCode(187)+String.fromCharCode(191),c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):d>191&&224>d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}},h=function(a,b,c){var d={},e={},f=Array.prototype,g=f.slice,h=f.forEach,i={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var j in i)i[i[j]]=j;var k=/\\|'|\r|\n|\t|\u2028|\u2029/g,l=/\\(\\|'|r|n|t|u2028|u2029)/g,m=/.^/,n=function(a){return a.replace(l,function(a,b){return i[b]})},o=d.each=d.forEach=function(a,b,c){if(null!=a)if(h&&a.forEach===h)a.forEach(b,c);else if(a.length===+a.length){for(var f=0,g=a.length;g>f;f++)if(f in a&&b.call(c,a[f],f,a)===e)return}else for(var i in a)if(d.has(a,i)&&b.call(c,a[i],i,a)===e)return};return d.has=function(a,b){return hasOwnProperty.call(a,b)},d.defaults=function(a){return o(g.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},d.templateSettings={evaluate:/<\!([\s\S]+?)\!>/g,interpolate:/<\!=([\s\S]+?)\!>/g,escape:/<\!-([\s\S]+?)\!>/g},d.template=function(a,b,c){c=d.defaults(c||{},d.templateSettings);var e="__p+='"+a.replace(k,function(a){return"\\"+i[a]}).replace(c.escape||m,function(a,b){return"'+\n_.escape("+n(b)+")+\n'"}).replace(c.interpolate||m,function(a,b){return"'+\n("+n(b)+")+\n'"}).replace(c.evaluate||m,function(a,b){return"';\n"+n(b)+"\n;__p+='"})+"';\n";c.variable||(e="with(obj||{}){\n"+e+"}\n"),e="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+e+"return __p;\n";var f=new Function(c.variable||"obj","_",e);if(b)return f(b,d);var g=function(a){return f.call(this,a,d)};return g.source="function("+(c.variable||"obj")+"){\n"+e+"}",g},d.template(a,b,c)},i=c["util.base"]={browser:{webkit:"undefined"!=typeof window.webkitURL?!0:!1,mozilla:"undefined"!=typeof window.mozInnerScreenX?!0:!1,msie:-1!=navigator.userAgent.indexOf("Trident")?!0:!1},isTouch:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),scrollWidth:function(){var a=b(".jui").size()>0&&this.browser.webkit?!0:!1,c=b('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');b("body").append(c);var d=b("div",c).innerWidth();c.css("overflow-y","auto");var e=b("div",c).innerWidth();return b(c).remove(),a?10:d-e},inherit:function(a,b){a.prototype=new b,a.prototype.constructor=a,a.prototype.parent=a.prototype},extend:function(a,b){if(!b||"object"!=typeof b)return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a},pxToInt:function(a){return"string"==typeof a&&-1!=a.indexOf("px")?parseInt(a.split("px").join("")):a},clone:function(a){var c=b.isArray(a)?[]:{};for(var d in a)c[d]="object"==typeof a[d]?this.clone(a[d]):a[d];return c},deepClone:function(a){var b="";if(this.typeCheck("array",a)){b=[];for(var c=0,d=a.length;d>c;c++)b[c]=this.deepClone(a[c])}else if(this.typeCheck("date",a))b=a;else if(this.typeCheck("object",a)){b={};for(var e in a)b[e]=this.deepClone(a[e])}else b=a;return b},sort:function(a){return new e(a)},runtime:function(a,b){var c=(new Date).getTime();b();var d=(new Date).getTime();console.log(a+" : "+(d-c)+"ms")},template:function(a,b){return b?h(a,b):h(a)},resize:function(a,c){var d=function(){var b=0;return function(){clearTimeout(b),b=setTimeout(a,c)}}();b(window).resize(function(){d()})},index:function(){return new f},chunk:function(a,b){for(var c=[],d=0,e=a.length;e>d;)c.push(a.slice(d,d+=b));return c},typeCheck:function(a,b){function c(a,b){return{string:"string"==typeof b?!0:!1,integer:"number"==typeof b&&b%1==0?!0:!1,"float":"number"==typeof b&&b%1!=0?!0:!1,number:"number"==typeof b?!0:!1,object:"object"==typeof b&&null!==b?!0:!1,"function":"function"==typeof b?!0:!1,array:null!=b&&"object"==typeof b&&"number"==typeof b.length?!0:!1,"boolean":"boolean"==typeof b?!0:!1,undefined:"undefined"==typeof b?!0:!1,"null":null===b?!0:!1,date:"object"==typeof b&&null!==b&&"function"==typeof b.getTime?!0:!1}[a]}if("object"==typeof a&&a.length){for(var d=a,e=0;e<d.length;e++)if(c(d[e],b))return!0;return!1}return c(a,b)},typeCheckObj:function(a,b){if("object"==typeof a){var c=this;for(var d in a){var e=a[d];"function"==typeof e&&!function(d,e){a[d]=function(){for(var a=arguments,f=b[d],g=0;g<a.length;g++)if(!c.typeCheck(f[g],a[g]))throw new Error("JUI_CRITICAL_ERR: the "+g+"th parameter is not a "+f[g]+" ("+name+")");return e.apply(this,a)}}(d,e)}}},dataToCsv:function(a,b,c){for(var d="",e=c?c:b.length,f=-1;e>f;f++){for(var g=[],h=0;h<a.length;h++)a[h]&&g.push(-1==f?a[h]:b[f][a[h]]);d+=g.join(",")+"\n"}return d},dataToCsv2:function(a){for(var c="",d=b.extend({fields:null,rows:null,names:null,count:this.typeCheck("integer",a.count)?a.count:a.rows.length},a),e=-1;e<d.count;e++){for(var f=[],g=0;g<d.fields.length;g++)d.fields[g]&&f.push(-1==e?d.names&&d.names[g]?d.names[g]:d.fields[g]:d.rows[e][d.fields[g]]);c+=f.join(",")+"\n"}return c},fileToCsv:function(a,b){var c=new FileReader;c.onload=function(a){"function"==typeof b&&b(a.target.result)},c.readAsText(a)},csvToBase64:function(a){return"data:application/octet-stream;base64,"+g.encode(a)},csvToData:function(a,c,d){for(var e=[],f=c.split("\n"),g=1;g<f.length;g++)if(""!=f[g]){for(var h=f[g].split(","),i={},j=0;j<a.length;j++)i[a[j]]=h[j],-1!=b.inArray(a[j],d)&&(i[a[j]]=parseFloat(h[j]));e.push(i)}return e},getCsvFields:function(a,b){for(var c=this.typeCheck("array",b)?b:a,d=0;d<c.length;d++)isNaN(c[d])||(c[d]=a[c[d]]);return c},svgToBase64:function(a){return"data:image/svg+xml;base64,"+g.encode(a)},dateFormat:function(a,b,c){function d(a,b){var c=a+"";for(b=b||2;c.length<b;)c="0"+c;return c}var e=["\x00","January","February","March","April","May","June","July","August","September","October","November","December"],f=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=c?a.getUTCFullYear():a.getFullYear();b=b.replace(/(^|[^\\])yyyy+/g,"$1"+i),b=b.replace(/(^|[^\\])yy/g,"$1"+i.toString().substr(2,2)),b=b.replace(/(^|[^\\])y/g,"$1"+i);var j=(c?a.getUTCMonth():a.getMonth())+1;b=b.replace(/(^|[^\\])MMMM+/g,"$1"+e[0]),b=b.replace(/(^|[^\\])MMM/g,"$1"+f[0]),b=b.replace(/(^|[^\\])MM/g,"$1"+d(j)),b=b.replace(/(^|[^\\])M/g,"$1"+j);var k=c?a.getUTCDate():a.getDate();b=b.replace(/(^|[^\\])dddd+/g,"$1"+g[0]),b=b.replace(/(^|[^\\])ddd/g,"$1"+h[0]),b=b.replace(/(^|[^\\])dd/g,"$1"+d(k)),b=b.replace(/(^|[^\\])d/g,"$1"+k);var l=c?a.getUTCHours():a.getHours();b=b.replace(/(^|[^\\])HH+/g,"$1"+d(l)),b=b.replace(/(^|[^\\])H/g,"$1"+l);var m=l>12?l-12:0==l?12:l;b=b.replace(/(^|[^\\])hh+/g,"$1"+d(m)),b=b.replace(/(^|[^\\])h/g,"$1"+m);var n=c?a.getUTCMinutes():a.getMinutes();b=b.replace(/(^|[^\\])mm+/g,"$1"+d(n)),b=b.replace(/(^|[^\\])m/g,"$1"+n);var o=c?a.getUTCSeconds():a.getSeconds();b=b.replace(/(^|[^\\])ss+/g,"$1"+d(o)),b=b.replace(/(^|[^\\])s/g,"$1"+o);var p=c?a.getUTCMilliseconds():a.getMilliseconds();b=b.replace(/(^|[^\\])fff+/g,"$1"+d(p,3)),p=Math.round(p/10),b=b.replace(/(^|[^\\])ff/g,"$1"+d(p)),p=Math.round(p/10),b=b.replace(/(^|[^\\])f/g,"$1"+p);var q=12>l?"AM":"PM";b=b.replace(/(^|[^\\])TT+/g,"$1"+q),b=b.replace(/(^|[^\\])T/g,"$1"+q.charAt(0));var r=q.toLowerCase();b=b.replace(/(^|[^\\])tt+/g,"$1"+r),b=b.replace(/(^|[^\\])t/g,"$1"+r.charAt(0));var s=-a.getTimezoneOffset(),t=c||!s?"Z":s>0?"+":"-";if(!c){s=Math.abs(s);var u=Math.floor(s/60),v=s%60;t+=d(u)+":"+d(v)}b=b.replace(/(^|[^\\])K/g,"$1"+t);var w=(c?a.getUTCDay():a.getDay())+1;return b=b.replace(new RegExp(g[0],"g"),g[w]),b=b.replace(new RegExp(h[0],"g"),h[w]),b=b.replace(new RegExp(e[0],"g"),e[j]),b=b.replace(new RegExp(f[0],"g"),f[j]),b=b.replace(/\\(.)/g,"$1")},btoa:g.encode,atob:g.decode},j=function(a){for(var b=[],d=0;d<a.length;d++){var e=c[a[d]];if(i.typeCheck(["function","object"],e))b.push(e);else{var f=k(a[d]);if(null==f)throw new Error("JUI_CRITICAL_ERR: '"+a[d]+"' is not loaded");b.push(f)}}return b},k=function(a){var b=null,a=a+".";for(var d in c)if(-1!=d.indexOf(a)&&i.typeCheck(["function","object"],c[d])){var e=d.split(a).join("");-1==e.indexOf(".")&&(null==b&&(b={}),b[e]=c[d])}return b};a.jui={ready:function(){var a=[],c=2==arguments.length?arguments[1]:arguments[0],d=2==arguments.length?arguments[0]:null;if(!i.typeCheck(["array","null"],d)||!i.typeCheck("function",c))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");b(function(){a=d?j(d):[k("ui"),k("uix"),i],c.apply(null,a)})},defineUI:function(a,b,e,f){if(!(i.typeCheck("string",a)&&i.typeCheck("array",b)&&i.typeCheck("function",e)&&i.typeCheck(["string","undefined"],f)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(i.typeCheck("function",c[a]))throw new Error("JUI_CRITICAL_ERR: '"+a+"' is already exist");if(i.typeCheck("undefined",f)&&(f="core"),!i.typeCheck("function",c[f]))throw new Error("JUI_CRITICAL_ERR: Parents are the only function");if(d[f]!==!0)throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");var g=j(b),h=e.apply(null,g);i.inherit(h,c[f]),c[a]=c.core.init({type:a,"class":h})},define:function(a,b,e,f){if(!(i.typeCheck("string",a)&&i.typeCheck("array",b)&&i.typeCheck("function",e)&&i.typeCheck(["string","undefined"],f)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(i.typeCheck("function",c[a]))throw new Error("JUI_CRITICAL_ERR: '"+a+"' is already exist");var g=j(b),h=e.apply(null,g);if(i.typeCheck("function",c[f])){if(d[f]!==!0)throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");i.inherit(h,c[f])}c[a]=h,d[a]=!0},include:function(a){if(!i.typeCheck("string",a))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");var b=c[a];if(i.typeCheck(["function","object"],b))return b;var d=k(a);if(null==d)throw new Error("JUI_CRITICAL_ERR: '"+a+"' is not loaded");return d},includeAll:function(){var a=[];for(var b in c)a.push(c[b]);return a},log:function(a){var b=window.open(a||"tool/debug.html","JUIM","width=1024, height=768, toolbar=no, menubar=no, resizable=yes");return jui.debugAll(function(a,c){b.log(a,c)}),b}}}(window,jQuery||$),jui.define("core",["jquery","util.base"],function(a,b){var c=new function(){var d=[],e=[];this.add=function(a){d.push(a)},this.get=function(a){var c=[];if(b.typeCheck("integer",a))return d[a];if(b.typeCheck("string",a))for(var e=0;e<d.length;e++)a==d[e].type?c.push(d[e]):-1!=d[e].type.indexOf("."+a)&&c.push(d[e]);return c},this.getAll=function(){return d},this.remove=function(a){return b.typeCheck("integer",a)?d.splice(a,1)[0]:void 0},this.shift=function(){return d.shift()},this.pop=function(){return d.pop()},this.size=function(){return d.length},this.debug=function(b,c,d,e){if(b.__proto__){var f=["emit","on","addEvent","addValid","callBefore","callAfter","callDelay","setTpl","setVo","setOption"];for(var g in b){var h=b[g];"function"==typeof h&&-1==a.inArray(g,f)&&!function(a,d,f,g){b.__proto__[a]=function(){var b=Date.now(),h=d.apply(this,arguments),i=Date.now();return"function"==typeof e?e({type:jui.get(c).type,name:a,c_index:f,u_index:g,time:i-b},arguments):(console.log(isNaN(f)||isNaN(g)?"NAME("+a+"), TIME("+(i-b)+"ms), ARGUMENTS...":"TYPE("+jui.get(c).type+"), NAME("+a+"), INDEX("+f+":"+g+"), TIME("+(i-b)+"ms), ARGUMENTS..."),console.log(arguments),console.log("")),h}}(g,h,c,d)}}},this.debugAll=function(a){for(var b=0;b<d.length;b++)for(var c=d[b].list,e=0;e<c.length;e++)this.debug(c[e],b,e,a)},this.addClass=function(a){e.push(a)},this.getClass=function(a){if(b.typeCheck("integer",a))return e[a];if(b.typeCheck("string",a))for(var c=0;c<e.length;c++){if(a==e[c].type)return e[c];if(-1!=e[c].type.indexOf("."+a))return e[c]}return null},this.getClassAll=function(){return e},this.create=function(a,d,e){var f=c.getClass(a);if(b.typeCheck("null",f))throw new Error("JUI_CRITICAL_ERR: '"+a+"' does not exist");return f["class"](d,e)}},d=function(){function c(b){for(var c=["webkit","moz","MS","o",""],d=0;d<c.length;d++){var e=b.type;c[d]||(e=e.toLowerCase()),a(b.target).on(c[d]+e,b.callback)}g.push(b)}function d(b){b.callback&&!b.children?a(b.target).on(b.type,b.callback):a(b.target).on(b.type,b.children,b.callback),g.push(b)}function e(b){b.callback&&!b.children?a(b.target).on(f(b.type),b.callback):a(b.target).on(f(b.type),b.children,b.callback),g.push(b)}function f(a){return{click:"touchstart",dblclick:"touchend",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}[a]}var g=[];this.add=function(f){var g={target:f[0],type:f[1]};b.typeCheck("function",f[2])?g=a.extend(g,{callback:f[2]}):b.typeCheck("string",f[2])&&(g=a.extend(g,{children:f[2],callback:f[3]}));for(var h=b.typeCheck("array",g.type)?g.type:[g.type],i=0;i<h.length;i++)g.type=h[i],-1!=g.type.toLowerCase().indexOf("animation")?c(g):("body"!=g.target&&g.target!=window&&a(g.target).unbind(g.type),b.isTouch?e(g):d(g))},this.trigger=function(c,d){a(c).trigger(b.isTouch?f(d):d)},this.get=function(a){return g[a]},this.getAll=function(){return g},this.size=function(){return g.length}},e=function(a,b,c,d){this.type=a,this.list=b,this.selector=c,this.options=d,this.destroy=function(){for(var a=0;a<this.list.length;a++)this.list[a].destroy()}},f=function(){var c=null;this.emit=function(a,b,c,d){for(var e=c?!0:!1,f=0;f<this.event.length;f++){var g=this.event[f];g.type==a.toLowerCase()&&g.unique===e&&(d="object"==typeof b&&void 0!=b.length?g.callback.apply(this,b):g.callback.call(this,b))}return e===!1?this.emit(a,b,!0,d):d},this.on=function(a,b){("string"==typeof a||"object"==typeof b)&&this.event.push({type:a.toLowerCase(),callback:b,unique:!1})},this.bind=function(a,b){("string"==typeof a||"object"==typeof b)&&(this.unbind(a),this.event.push({type:a.toLowerCase(),callback:b,unique:!0}))},this.unbind=function(a){for(var b=[],c=0;c<this.event.length;c++){var d=this.event[c];(d.type!=a.toLowerCase()||d.unique===!1)&&b.push(d)}this.event=b},this.addEvent=function(){this.listen.add(arguments)},this.addTrigger=function(a,b){this.listen.trigger(a,b)},this.addValid=function(a,c){if(this.__proto__){var d=this.__proto__[a];this.__proto__[a]=function(){for(var e=arguments,f=0;f<e.length;f++)if(!b.typeCheck(c[f],e[f]))throw new Error("JUI_CRITICAL_ERR: the "+f+"th parameter is not a "+c[f]+" ("+a+")");return d.apply(this,e)}}},this.callBefore=function(a,b){if(this.__proto__){var c=this.__proto__[a];this.__proto__[a]=function(){var a=arguments;return"function"!=typeof b?c.apply(this,a):b.apply(this,a)!==!1?c.apply(this,a):void 0}}},this.callAfter=function(a,b){if(this.__proto__){var c=this.__proto__[a];this.__proto__[a]=function(){var a=arguments,d=c.apply(this,a);return"function"==typeof b&&d!==!1&&b.apply(this,a),d}}},this.callDelay=function(a,b){function c(a,c){var e=d.apply(a,c);"function"==typeof b.after&&e!==!1&&b.after.apply(a,c)}if(this.__proto__){var d=this.__proto__[a],e=isNaN(b.delay)?0:b.delay;this.__proto__[a]=function(){var a=this,d=arguments;"function"==typeof b.before&&b.before.apply(a,d),e>0?setTimeout(function(){c(a,d)},e):c(a,d)}}},this.setTpl=function(a,c){this.tpl[a]=b.template(c)},this.setVo=function(){this.options.vo&&(null!=c&&c.reload(),c=a(this.selector).jbinder(),this.bind=c)},this.setOption=function(a,b){if("object"==typeof a)for(var c in a)this.options[c]=a[c];else this.options[a]=b},this.destroy=function(){if(this.__proto__){for(var a=0;a<this.listen.size();a++){var b=this.listen.get(a);b.target.unbind(b.type)}for(var c in this.__proto__)delete this.__proto__[c]}}};return f.build=function(f){function g(b,c){var d=["event","tpl","vo"],e=[],f=[];for(var g in b)e.push(g);for(var g in c)f.push(g);for(var h=0;h<f.length;h++){var i=f[h];if(-1==a.inArray(i,e)&&-1==a.inArray(i,d))throw new Error("JUI_CRITICAL_ERR: '"+i+"' is not an option")}}return function(h,i){var j=a(h),k=[],l=b.typeCheck("function",f["class"].setup)?f["class"].setup():{};return j.each(function(c){var e=new f["class"];b.typeCheck("object",l)&&g(l,i);var m=a.extend(!0,l,i);if(m.tpl=b.typeCheck("object",m.tpl)?m.tpl:{},e.init.prototype=e,e.init.prototype.selector=j.selector,e.init.prototype.root=this,e.init.prototype.options=m,e.init.prototype.tpl={},e.init.prototype.event=new Array,e.init.prototype.listen=new d,e.init.prototype.timestamp=(new Date).getTime(),e.init.prototype.index=0==j.size()?null:c,e.init.prototype.module=f,a("script").each(function(){if(h==a(this).data("jui")||h==a(this).data("vo")){var b=a(this).data("tpl");if(""==b)throw new Error("JUI_CRITICAL_ERR: 'data-tpl' property is required");m.tpl[b]=a(this).html()}}),b.typeCheck("object",m.tpl))for(var n in m.tpl){var o=m.tpl[n];b.typeCheck("string",o)&&""!=o&&(e.init.prototype.tpl[n]=b.template(o))}var p=new e.init;if(b.typeCheck("object",p.options.event))for(var q in p.options.event)p.on(q,p.options.event[q]);k[c]=p}),c.add(new e(f.type,k,h,i)),0==k.length?null:1==k.length?k[0]:k}},f.init=function(a){var b=null;return"object"==typeof a&&(b=f.build(a),c.addClass({type:a.type,"class":b})),b},window.jui="object"==typeof jui?a.extend(jui,c):c,f}),jui.define("util.math",[],function(){var a={rotate:function(a,b,c){return{x:a*Math.cos(c)-b*Math.sin(c),y:a*Math.sin(c)+b*Math.cos(c)}},radian:function(a){return a*Math.PI/180},degree:function(a){return 180*a/Math.PI},interpolateNumber:function(a,b){return function(c){return a+(b-a)*c}},interpolateRound:function(a,b){var c=this.interpolateNumber(a,b);return function(a){return Math.round(c(a))}},nice:function(a,b,c,d){function e(a,b){var c=Math.floor(Math.log(a)/Math.LN10),d=a/Math.pow(10,c);return niceFraction=b?1.5>d?1:3>d?2:7>d?5:10:1>=d?1:2>=d?2:5>=d?5:10,niceFraction*Math.pow(10,c)}function f(){m=d?e(g-h,!1):g-h,l=d?e(m/k,!0):m/k,i=d?Math.floor(h/l)*l:h,j=d?Math.floor(g/l)*l:g}if(d=d||!1,a>b)var g=a,h=b;else var h=a,g=b;var i,j,k=c,l=0,m=[];return f(),{min:i,max:j,range:m,spacing:l}}};return a}),jui.define("util.time",["util.base"],function(a){var b={years:1,months:2,days:3,hours:4,minutes:5,seconds:6,milliseconds:7,weeks:8,add:function(a){if(arguments.length<=2)return a;if(arguments.length>2){for(var b=new Date(+a),c=1;c<arguments.length;c+=2){var d=arguments[c],e=arguments[c+1];this.years==d?b.setFullYear(b.getFullYear()+e):this.months==d?b.setMonth(b.getMonth()+e):this.days==d?b.setDate(b.getDate()+e):this.hours==d?b.setHours(b.getHours()+e):this.minutes==d?b.setMinutes(b.getMinutes()+e):this.seconds==d?b.setSeconds(b.getSeconds()+e):this.milliseconds==d?b.setMilliseconds(b.getMilliseconds()+e):this.weeks==d&&b.setDate(b.getDate()+7*e)}return b}},format:function(b,c,d){return a.dateFormat(b,c,d)}};return b}),jui.define("util.scale",["util.math","util.time"],function(a,b){var c={circle:function(){function a(){}var b=[],c=[],d=0;return a.domain=function(a){if("undefined"==typeof a)return b;for(var c=0;c<a.length;c++)b[c]=a[c];return this},a.range=function(a){if("undefined"==typeof a)return c;for(var b=0;b<a.length;b++)c[b]=a[b];return this},a.rangePoints=function(e,f){f=f||0;for(var g=b.length,h=(e[1]-e[0]-f)/g,i=[],j=0;j<b.length;j++)i[j]=0==j?e[0]+f/2+h/2:i[j-1]+h;return c=i,d=h,a},a.rangeBands=function(e,f,g){f=f||0,g=g||0;for(var h=b.length,i=h-1,j=(e[1]-e[0])/i,k=[],l=0;l<b.length;l++)k[l]=0==l?e[0]:j+k[l-1];return d=j,c=k,a},a.rangeBand=function(){return d},a},ordinal:function(){function a(a){for(var d=-1,e=0;e<b.length;e++)if(b[e]==a){d=e;break}return d>-1?c[d]:"undefined"!=typeof c[a]?(b[a]=a,c[a]):null}var b=[],c=[],d=0;return a.domain=function(a){if("undefined"==typeof a)return b;for(var c=0;c<a.length;c++)b[c]=a[c];return this},a.range=function(a){if("undefined"==typeof a)return c;for(var b=0;b<a.length;b++)c[b]=a[b];return this},a.rangePoints=function(e,f){f=f||0;for(var g=b.length,h=(e[1]-e[0]-f)/g,i=[],j=0;j<b.length;j++)i[j]=0==j?e[0]+f/2+h/2:i[j-1]+h;return c=i,d=h,a},a.rangeBands=function(e,f,g){f=f||0,g=g||0;for(var h=b.length,i=h-1,j=(e[1]-e[0])/i,k=[],l=0;l<b.length;l++)k[l]=0==l?e[0]:j+k[l-1];return d=j,c=k,a},a.rangeBand=function(){return d},a},time:function(){var a,d=[],e=c.linear(),f=e.domain;return e.domain=function(a){if(!arguments.length)return f.call(e);for(var b=0;b<a.length;b++)d[b]=+a[b];return f.call(e,d)},e.min=function(){return Math.min(d[0],d[d.length-1])},e.max=function(){return Math.max(d[0],d[d.length-1])},e.rate=function(a,b){return e(e.max()*(a/b))},e.ticks=function(c,d){for(var f=e.min(),g=e.max(),h=[];g>f;)h.push(new Date(+f)),f=b.add(f,c,d);h.push(new Date(+f));var i=e(h[0]),j=e(h[1]);return a=j-i,h},e.realTicks=function(c,f){var g=d[0],h=d[1],i=[],j=new Date(+g),k=null;for(c==b.years?k=new Date(j.getFullYear(),0,1):c==b.months?k=new Date(j.getFullYear(),j.getMonth(),1):c==b.days||c==b.weeks?k=new Date(j.getFullYear(),j.getMonth(),j.getDate()):c==b.hours?k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),0,0,0):c==b.minutes?k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),0,0):c==b.seconds?k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),0):c==b.milliseconds&&(k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds())),k=b.add(k,c,f);+h>+k;)i.push(new Date(+k)),k=b.add(k,c,f);var l=e(i[1]),m=e(i[2]);return a=m-l,i},e.rangeBand=function(){return a},e.invert=function(a){var b=c.linear().domain(e.range()).range(e.domain());return new Date(b(a))},e},linear:function(){function b(c){for(var h=-1,i=0,j=d.length;j>i;i++)if(i==j-1){if(c==d[i]){h=i;break}}else if(d[i]<d[i+1]){if(c>=d[i]&&c<d[i+1]){h=i;break}}else if(d[i]>=d[i+1]&&c<=d[i]&&d[i+1]<c){h=i;break}if(e){if(d.length-1==h)return e[h];if(-1==h){var k=b.max(),l=b.min();if(c>k){if(g)return k;var m=d[d.length-1],n=d[d.length-2],o=e[e.length-1],p=e[e.length-2],q=Math.abs(m-n),r=Math.abs(o-p);return o+Math.abs(c-k)*r/q}if(l>c){if(g)return l;var s=d[0],t=d[1],u=e[0],v=e[1],w=Math.abs(s-t),x=Math.abs(u-v);return u-Math.abs(c-l)*x/w}return e[e.length-1]}var l=d[h],k=d[h+1],y=e[h],z=e[h+1],A=(c-l)/(k-l),B=f?a.interpolateRound(y,z):a.interpolateNumber(y,z);return B(A)}if(0==h)return 0;if(-1==h)return 1;var l=d[h-1],k=d[h],A=(c-l)/(k-l);return A}var d=[0,1],e=[0,1],f=!1,g=!1;return b.min=function(){return Math.min(d[0],d[d.length-1])},b.max=function(){return Math.max(d[0],d[d.length-1])},b.rate=function(a,c){return b(b.max()*(a/c))},b.clamp=function(a){g=a||!1},b.domain=function(a){if(!arguments.length)return d;for(var b=0;b<a.length;b++)d[b]=a[b];return this},b.range=function(a){if(!arguments.length)return e;for(var b=0;b<a.length;b++)e[b]=a[b];return this},b.rangeRound=function(a){return f=!0,b.range(a)},b.invert=function(a){var b=c.linear().domain(e).range(d);return b(a)},b.ticks=function(b,c,e){if(e=e||1e4,0==d[0]&&0==d[1])return[];for(var f=a.nice(d[0],d[1],b||10,c||!1),g=[],h=f.min*e,i=f.max*e;i>=h;)g.push(h/e),h+=f.spacing*e;return g[g.length-1]*e!=i&&h>i&&g.push(i/e),g},b}};return c}),jui.define("util.color",[],function(){var a={regex:/(linear|radial)\((.*)\)(.*)/i,trim:function(a){return(a||"").replace(/^\s+|\s+$/g,"")},parse:function(a){return this.parseGradient(a)},parseGradient:function(a){var b=a.match(this.regex);if(!b)return a;var c=this.trim(b[1]),d=this.parseAttr(c,this.trim(b[2])),e=this.parseStop(this.trim(b[3])),f={type:c};for(var g in d)f[g]=d[g];return f.stops=e,f},parseStop:function(a){for(var b=a.split(","),c=[],d=0,e=b.length;e>d;d++){var a=b[d],f=a.split(" ");0!=f.length&&(1==f.length?c.push({"stop-color":f[0]}):2==f.length?c.push({offset:f[0],"stop-color":f[1]}):3==f.length&&c.push({offset:f[0],"stop-color":f[1],"stop-opacity":f[2]}))}for(var g=-1,h=-1,d=0,e=c.length;e>d;d++){var a=c[d];if(0==d?a.offset||(a.offset=0):d==e-1&&(a.offset||(a.offset=1)),-1==g&&"undefined"==typeof a.offset)g=d;else if(-1==h&&"undefined"==typeof a.offset){h=d;for(var i=h-g,j=c[h].offset.indexOf("%")>-1?parseFloat(c[h].offset)/100:c[h].offset,k=c[g].offset.indexOf("%")>-1?parseFloat(c[g].offset)/100:c[g].offset,l=j-k,m=l/i,n=k+m,o=g+1;h>o;o++)c[o].offset=n,n+=m;g=h,h=-1}}return c},parseAttr:function(a,b){if("linear"!=a){for(var c=b.split(","),d=0,e=c.length;e>d;d++)-1==c[d].indexOf("%")&&(c[d]=parseFloat(c[d]));return{cx:c[0],cy:c[1],r:c[2],fx:c[3],fy:c[4]}}switch(b){case"":case"left":return{x1:0,y1:0,x2:1,y2:0,direction:b||"left"};case"right":return{x1:1,y1:0,x2:0,y2:0,direction:b};case"top":return{x1:0,y1:0,x2:0,y2:1,direction:b};case"bottom":return{x1:0,y1:1,x2:0,y2:0,direction:b};case"top left":return{x1:0,y1:0,x2:1,y2:1,direction:b};case"top right":return{x1:1,y1:0,x2:0,y2:1,direction:b};case"bottom left":return{x1:0,y1:1,x2:1,y2:0,direction:b};case"bottom right":return{x1:1,y1:1,x2:0,y2:0,direction:b};default:for(var c=b.split(","),d=0,e=c.length;e>d;d++)-1==c[d].indexOf("%")&&(c[d]=parseFloat(c[d]));return{x1:c[0],y1:c[1],x2:c[2],y2:c[3]}}}};return a}),jui.define("util.svg.element",[],function(){var a=function(){this.create=function(a,b){this.element=document.createElementNS("http://www.w3.org/2000/svg",a),this.childrens=[],this.parent=null,this.attributes={},this.styles={},this.attr(b)},this.each=function(a){if("function"==typeof a){for(var b=0;b<this.childrens.length;b++){var c=this.childrens[b];a.apply(c,[b,c])}return this.childrens}},this.get=function(a){return this.childrens[a]?this.childrens[a]:null},this.index=function(a){for(var b=0;b<this.childrens.length;b++)if(a==this.childrens[b])return b;return-1},this.append=function(a){return a.parent&&a.remove(),this.childrens.push(a),a.parent=this,this},this.prepend=function(a){return this.insert(0,a)},this.insert=function(a,b){return b.parent&&b.remove(),this.childrens.splice(a,0,b),b.parent=this,this},this.remove=function(){for(var a=0,b=[],c=this.parent.childrens,d=0;d<c.length;d++){if(c[d]==this){a=d;break}b.push(c[d])}return this.parent.childrens=b,this},this.attr=function(a){for(var b in a)this.attributes[b]=a[b];for(var b in this.attributes)-1!=b.indexOf("xlink:")?this.element.setAttributeNS("http://www.w3.org/1999/xlink",b,this.attributes[b]):this.element.setAttributeNS(null,b,this.attributes[b]);return this},this.css=function(a){var b=[];for(var c in a)this.styles[c]=a[c];for(var c in this.styles)b.push(c+":"+this.styles[c]);return this.attr({style:b.join(";")}),this},this.html=function(a){return this.element.innerHTML=a,this},this.text=function(a){return this.element.appendChild(document.createTextNode(a)),this},this.on=function(a,b){return this.element.addEventListener(a,function(a){"function"==typeof b&&b.call(this,a)},!1),this},this.hover=function(a,b){return this.element.addEventListener("mouseover",function(b){"function"==typeof a&&a.call(this,b)},!1),this.element.addEventListener("mouseout",function(a){"function"==typeof b&&b.call(this,a)},!1),this},this.size=function(){var a={width:0,height:0},b=this.element.getBoundingClientRect();if(!b||0==b.width&&0==b.height){for(var c=["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],d=["width","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],e=window.getComputedStyle(this.element),f=0;f<c.length;f++)a.height+=parseFloat(e[c[f]]);for(var f=0;f<d.length;f++)a.width+=parseFloat(e[d[f]])}else a.width=b.width,a.height=b.height;return isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a}};return a}),jui.define("util.svg.element.transform",[],function(){var a=function(){function a(a){var b=[];for(var d in c)c[d]&&b.push(c[d]);a.attr({transform:b.join(" ")})}function b(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b.join(",")}var c={};this.translate=function(){return c.translate="translate("+b(arguments)+")",a(this),this},this.rotate=function(){return c.rotate="rotate("+b(arguments)+")",a(this),this},this.scale=function(){return c.scale="scale("+b(arguments)+")",a(this),this},this.skew=function(){return c.skew="skew("+b(arguments)+")",a(this),this},this.matrix=function(){return c.matrix="matrix("+b(arguments)+")",a(this),this}};return a},"util.svg.element"),jui.define("util.svg.element.path",[],function(){var a=function(){function a(a){0!=b.length&&a.attr({d:b.join(" ")})}var b=[];this.moveTo=function(a,c,d){return b.push((d||"m")+a+","+c),this},this.MoveTo=function(a,b){return this.moveTo(a,b,"M")},this.lineTo=function(a,c,d){return b.push((d||"l")+a+","+c),this},this.LineTo=function(a,b){return this.lineTo(a,b,"L")},this.hLineTo=function(a,c){return b.push((c||"h")+a),this},this.HLineTo=function(a){return this.hLineTo(a,"H")},this.vLineTo=function(a,c){return b.push((c||"v")+a),this},this.VLineTo=function(a){return this.vLineTo(a,"V")},this.curveTo=function(a,c,d,e,f,g,h){return b.push((h||"c")+a+","+c+" "+d+","+e+" "+f+","+g),this},this.CurveTo=function(a,b,c,d,e,f){return this.curveTo(a,b,c,d,e,f,"C")},this.sCurveTo=function(a,c,d,e,f){return b.push((f||"s")+a+","+c+" "+d+","+e),this},this.SCurveTo=function(a,b,c,d){return this.sCurveTo(a,b,c,d,"S")},this.qCurveTo=function(a,c,d,e,f){return b.push((f||"q")+a+","+c+" "+d+","+e),this},this.QCurveTo=function(a,b,c,d){return this.qCurveTo(a,b,c,d,"Q")},this.tCurveTo=function(a,c,d,e,f){return b.push((f||"t")+a+","+c+" "+d+","+e),this},this.TCurveTo=function(a,b,c,d){return this.tCurveTo(a,b,c,d,"T")},this.arc=function(a,c,d,e,f,g,h,i){return e=e?1:0,f=f?1:0,b.push((i||"a")+a+","+c+" "+d+" "+e+","+f+" "+g+","+h),this},this.Arc=function(a,b,c,d,e,f,g){return this.arc(a,b,c,d,e,f,g,"A")},this.closePath=function(a){return b.push(a||"z"),this},this.ClosePath=function(){return this.closePath("Z")},this.join=function(){a(this)},this.triangle=function(a,b,c,d){return this.MoveTo(a,b).moveTo(0,-d/2).lineTo(c/2,d).lineTo(-c,0).lineTo(c/2,-d)
},this.rect=this.rectangle=function(a,b,c,d){return this.MoveTo(a,b).moveTo(-c/2,-d/2).lineTo(c,0).lineTo(0,d).lineTo(-c,0).lineTo(0,-d)},this.cross=function(a,b,c,d){return this.MoveTo(a,b).moveTo(-c/2,-d/2).lineTo(c,d).moveTo(0,-d).lineTo(-c,d)},this.circle=function(a,b,c){return this.MoveTo(a,b).moveTo(-c,0).arc(c/2,c/2,0,1,1,c,0).arc(c/2,c/2,0,1,1,-c,0)}};return a},"util.svg.element.transform"),jui.define("util.svg.element.poly",[],function(){var a=function(){function a(a){0!=b.length&&a.attr({points:b.join(" ")})}var b=[];this.point=function(a,c){return b.push(a+","+c),this},this.join=function(){if(b.length>0){var c=b[0];b.push(c)}a(this)}};return a},"util.svg.element.transform"),jui.define("util.svg",["util.base","util.math","util.svg.element","util.svg.element.transform","util.svg.element.path","util.svg.element.poly"],function(a,b,c,d,e,f){var g=function(b,g){function h(){l.root=m=new c,n=new d,o=new d,m.create("svg",g),n.create("g"),o.create("g"),n.translate(.5,.5),o.translate(.5,.5),b.appendChild(m.element),m.append(n),m.append(o)}function i(b,c,d,e){return b.create(c,d),0==q?n.append(b):p[q].append(b),a.typeCheck("function",e)&&(q++,p[q]=b,e.call(b),q--),b}function j(a,b,c,d){if(a.parent==n)throw new Error("JUI_CRITICAL_ERR: Parents are required elements of the '"+b+"'");return i(a,b,c,d)}function k(a){for(var b=0;b<a.childrens.length;b++){var c=a.childrens[b];c&&(c.parent==a&&a.element.appendChild(c.element),c.join&&c.join(),c.childrens.length>0&&k(c))}}var l=this,m=null,n=null,o=null,p={},q=0,r=!1;this.size=function(){if(2!=arguments.length)return m.size();var a=arguments[0],b=arguments[1];m.attr({width:a,height:b})},this.clear=function(a){n.each(function(){this.element.parentNode&&n.element.removeChild(this.element)}),a===!0&&o.each(function(){this.element.parentNode&&o.element.removeChild(this.element)})},this.reset=function(a){this.clear(a),n.childrens=[],a===!0&&(o.childrens=[])},this.render=function(a){this.clear(),k(r===!1||a===!0?m:n),r=!0},this.download=function(b){a.typeCheck("string",b)&&(b=b.split(".")[0]);var c=document.createElement("a");c.download=b?b+".svg":"svg.svg",c.href=this.toDataURL(),document.body.appendChild(c),c.click(),c.parentNode.removeChild(c)},this.downloadImage=function(b,c){c=c||"image/png";var d=new Image,e=this.size(),f=this.toDataURL().replace('width="100%"','width="'+e.width+'"').replace('height="100%"','height="'+e.height+'"');d.onload=function(){var e=document.createElement("canvas");e.width=d.width,e.height=d.height;var f=e.getContext("2d");f.drawImage(d,0,0);var g=e.toDataURL(c);a.typeCheck("string",b)&&(b=b.split(".")[0]);var h=document.createElement("a");h.download=b?b+".png":"svg.png",h.href=g,document.body.appendChild(h),h.click(),h.parentNode.removeChild(h)},d.src=f},this.exportCanvas=function(a){var b=new Image,c=this.size(),d=this.toDataURL().replace('width="100%"','width="'+c.width+'"').replace('height="100%"','height="'+c.height+'"');b.onload=function(){a.width=b.width,a.height=b.height;var c=a.getContext("2d");c.drawImage(b,0,0)},b.src=d},this.toXml=function(){var a=b.innerHTML;return a=a.replace('xmlns="http://www.w3.org/2000/svg"',""),['<?xml version="1.0" encoding="utf-8"?>',a.replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ')].join("\n")},this.toDataURL=function(b){b=b||"image/svg+xml";var c=this.toXml();return(a.browser.mozilla||a.browser.msie)&&(c=encodeURIComponent(c)),a.browser.msie?"data:image/svg+xml,"+c:"data:image/svg+xml;utf8,"+c},this.autoRender=function(a,b){q>0||(b?n.append(a):o.append(a))},this.getTextRect=function(a){var b=this.text({"class":"dummy",x:-100,y:-100},a);m.element.appendChild(b.element);var c=b.element.getBoundingClientRect();return $(b.element).remove(),{width:c.width,height:c.height}},this.custom=function(a,b,d){return i(new c,a,b,d)},this.defs=function(a){return i(new c,"defs",null,a)},this.symbol=function(a,b){return i(new c,"symbol",a,b)},this.g=this.group=function(a,b){return i(new d,"g",a,b)},this.marker=function(a,b){return i(new c,"marker",a,b)},this.a=function(a,b){return i(new d,"a",a,b)},this.switch=function(a,b){return i(new c,"switch",a,b)},this.use=function(a){return i(new c,"use",a)},this.rect=function(a,b){return i(new d,"rect",a,b)},this.line=function(a,b){return i(new d,"line",a,b)},this.circle=function(a,b){return i(new d,"circle",a,b)},this.text=function(b,c){return a.typeCheck("string",c)?i(new d,"text",b).text(c):i(new d,"text",b,c)},this.textPath=function(b,d){return a.typeCheck("string",d)?i(new c,"textPath",b).text(d):i(new c,"textPath",b)},this.tref=function(b,d){return a.typeCheck("string",d)?i(new c,"tref",b).text(d):i(new c,"tref",b)},this.tspan=function(b,d){return a.typeCheck("string",d)?i(new c,"tspan",b).text(d):i(new c,"tspan",b)},this.ellipse=function(a,b){return i(new d,"ellipse",a,b)},this.image=function(a,b){return i(new d,"image",a,b)},this.path=function(a,b){return i(new e,"path",a,b)},this.polyline=function(a,b){return i(new f,"polyline",a,b)},this.polygon=function(a,b){return i(new f,"polygon",a,b)},this.pattern=function(a,b){return i(new c,"pattern",a,b)},this.mask=function(a,b){return i(new c,"mask",a,b)},this.clipPath=function(a,b){return i(new c,"clipPath",a,b)},this.linearGradient=function(a,b){return i(new c,"linearGradient",a,b)},this.radialGradient=function(a,b){return i(new c,"radialGradient",a,b)},this.filter=function(a,b){return i(new c,"filter",a,b)},this.stop=function(a){return j(new c,"stop",a)},this.animate=function(a){return j(new c,"animate",a)},this.animateColor=function(a){return j(new c,"animateColor",a)},this.animateMotion=function(a){return j(new c,"animateMotion",a)},this.animateTransform=function(a){return j(new c,"animateTransform",a)},this.mpath=function(a){return j(new c,"mpath",a)},this.set=function(a){return j(new c,"set",a)},this.feBlend=function(a){return j(new c,"feBlend",a)},this.feColorMatrix=function(a){return j(new c,"feColorMatrix",a)},this.feComponentTransfer=function(a){return j(new c,"feComponentTransfer",a)},this.feComposite=function(a){return j(new c,"feComposite",a)},this.feConvolveMatrix=function(a){return j(new c,"feConvolveMatrix",a)},this.feDiffuseLighting=function(a){return j(new c,"feDiffuseLighting",a)},this.feDisplacementMap=function(a){return j(new c,"feDisplacementMap",a)},this.feFlood=function(a){return j(new c,"feFlood",a)},this.feGaussianBlur=function(a){return j(new c,"feGaussianBlur",a)},this.feImage=function(a){return j(new c,"feImage",a)},this.feMerge=function(a,b){return j(new c,"feMerge",a,b)},this.feMergeNode=function(a){return j(new c,"feMergeNode",a)},this.feMorphology=function(a){return j(new c,"feMorphology",a)},this.feOffset=function(a){return j(new c,"feOffset",a)},this.feSpecularLighting=function(a){return j(new c,"feSpecularLighting",a)},this.feTile=function(a){return j(new c,"feTile",a)},this.feTurbulence=function(a){return j(new c,"feTurbulence",a)},h()};return g}),jui.define("util.svg3d",["util.base","util.math","util.svg"],function(a,b,c){var d=function(a,d){function e(){f=new c(a,d)}var f=null;this.size=function(){return f.size()},this.clear=function(a){return f.clear(a)},this.reset=function(a){return f.reset(a)},this.render=function(a){return f.render(a)},this.rect3d=function(a){var c=b.radian(a.degree),d=0,e=0,g=a.width,h=a.height,i=Math.cos(c)*a.depth+d,j=Math.sin(c)*a.depth+e,k=a.width+i,l=a.height+j,m=f.group({width:k,height:l},function(){delete a.width,a.height,a.degree,a.depth,f.path(a).MoveTo(i,d).LineTo(k,e).LineTo(g,j).LineTo(d,j),f.path(a).MoveTo(d,j).LineTo(d,l).LineTo(g,l).LineTo(g,j).ClosePath(),f.path(a).MoveTo(g,l).LineTo(k,h).LineTo(k,e).LineTo(g,j).ClosePath()});return m},e()};return d}),jui.define("chart.draw",["jquery","util.base"],function(a,b){var c=function(){function c(c,d){var e=["type","target","index","colors","x","y","x1","y1","c","dist"],f=[],g=[];for(var h in c)g.push(h);for(var h in d)f.push(h),b.typeCheck("undefined",c[h])&&(c[h]=d[h]);for(var i=0;i<g.length;i++){var j=g[i];if(-1==a.inArray(j,f)&&-1==a.inArray(j,e))throw new Error("JUI_CRITICAL_ERR: '"+j+"' is not an option in chart.draw")}}this.render=function(){if(!b.typeCheck("function",this.draw))throw new Error("JUI_CRITICAL_ERR: 'draw' method must be implemented");if(b.typeCheck("function",this.drawSetup)){var a=this.drawSetup(),d=b.typeCheck("object",a)?a:{};c(this.grid||this.brush||this.widget,d)}b.typeCheck("function",this.drawBefore)&&this.drawBefore();var e=this.draw();if(!b.typeCheck("object",e))throw new Error("JUI_CRITICAL_ERR: 'draw' method should return the object");return this.brush&&e.translate(this.chart.x(),this.chart.y()),e}};return c}),jui.defineUI("chart.builder",["jquery","util.base","util.svg","util.color"],function(a,b,c,d){var e=0;b.resize(function(){if(e!=a(window).width()){for(var b=jui.get("chart.builder"),c=0;c<b.length;c++)for(var d=b[c].list,f=0;f<d.length;f++)"100%"==d[f].options.width&&d[f].resize();e=a(window).width()}},300);var f=function(){function e(a){var b=a.svg.size(),c={width:b.width-(q.left+q.right),height:b.height-(q.top+q.bottom),x:q.left,y:q.top};c.x2=c.x+c.width,c.y2=c.y+c.height,s=c}function f(a){for(var c=b.deepClone(a.options.series),d=b.deepClone(a.options.grid),e=b.deepClone(a.options.brush),f=b.deepClone(a.options.widget),g=[],h=0,i=u.length;i>h;h++){var k=u[h];for(var l in k){var m=c[l]||{},n=k[l],o=null;o=n instanceof Array?{max:Math.max.apply(Math,n),min:Math.min.apply(Math,n)}:{max:+n,min:+n},m.data=m.data||[],m.min="undefined"==typeof m.min?0:m.min,m.max="undefined"==typeof m.max?0:m.max,m.data[h]=n,o.min<m.min&&(m.min=o.min),o.max>m.max&&(m.max=o.max),c[l]=m}}for(var l in c)g.push(l);z=j(e,g),A=j(f,g),r=c,y=d,C={}}function g(a){var b=a.svg.defs();a.clipId=a.createId("clip-id");var c=a.svg.clipPath({id:a.clipId});c.append(a.svg.rect({x:0,y:0,width:a.width(),height:a.height()})),b.append(c),a.defs=b}function h(a){var c=a.grid();if(null!=c){c.type&&(c={c:c});for(var d in c){var e="custom";"x"==d?e="bottom":"x1"==d?e="top":"y"==d?e="left":"y1"==d&&(e="right"),B[d]||(B[d]=[]),b.typeCheck("array",c[d])||(c[d]=[c[d]]);for(var f=0,g=c[d].length;g>f;f++){var h=jui.include("chart.grid."+(c[d][f].type||"block"));h.prototype.chart=a,h.prototype.grid=c[d][f];var i=new h(e,a,c[d][f]).render(),j=c[d][f].dist||0;"y"==d?i.root.translate(a.x()-j,a.y()):"y1"==d?i.root.translate(a.x2()+j,a.y()):"x"==d?i.root.translate(a.x(),a.y2()+j):"x1"==d&&i.root.translate(a.x(),a.y()-j),B[d][f]=i.scale}}}}function i(a,b){var c="brush"==b?z:A;if(null!=c)for(var d=0;d<c.length;d++){var e=jui.include("chart."+b+"."+c[d].type);if(k(c[d]),c[d].index=d,e.prototype.chart=a,e.prototype[b]=c[d],"widget"==b){var f=new e(a,c[d]),g=f.render();f.isRender()||a.svg.autoRender(g,!1)}else new e(a,c[d]).render()}}function j(a,c){if(b.typeCheck("array",a))for(var d=0;d<a.length;d++){var e=a[d];e.target?"string"==typeof e.target&&(e.target=[e.target]):e.target=c}return a}function k(a){(B.x||B.x1)&&(!B.x&&B.x1&&(B.x=B.x1),b.typeCheck("function",a.x)||(a.x="undefined"!=typeof a.x1?B.x1[a.x1||0]:B.x[a.x||0])),(B.y||B.y1)&&(!B.y&&B.y1&&(B.y=B.y1),b.typeCheck("function",a.y)||(a.y="undefined"!=typeof a.y1?B.y1[a.y1||0]:B.y[a.y||0])),B.c&&(b.typeCheck("function",a.c)||(a.c=B.c[a.c||0]))}function l(b){function c(c){var d=a(b.root).offset(),e=c.pageX-d.left,f=c.pageY-d.top;return c.bgX=e,c.bgY=f,c.chartX=e-b.padding("left"),c.chartY=f-b.padding("top"),c.chartX<0||c.chartX>b.width()||c.chartY<0||c.chartY>b.height()?void 0:!0}var d=b.svg.root,e=!1;d.on("click",function(a){c(a)?b.emit("chart.click",[a]):b.emit("bg.click",[a])}),d.on("dblclick",function(a){c(a)?b.emit("chart.dblclick",[a]):b.emit("bg.dblclick",[a])}),d.on("contextmenu",function(a){c(a)?b.emit("chart.rclick",[a]):b.emit("bg.rclick",[a]),a.preventDefault()}),d.on("mousemove",function(a){c(a)?e?b.emit("chart.mousemove",[a]):(b.emit("chart.mouseover",[a]),e=!0):(e&&(b.emit("chart.mouseout",[a]),e=!1),b.emit("bg.mousemove",[a]))}),d.on("mousedown",function(a){c(a)?b.emit("chart.mousedown",[a]):b.emit("bg.mousedown",[a])}),d.on("mouseup",function(a){c(a)?b.emit("chart.mouseup",[a]):b.emit("bg.mouseup",[a])}),d.on("mouseover",function(a){c(a)||b.emit("bg.mouseover",[a])}),d.on("mouseout",function(a){c(a)||b.emit("bg.mouseout",[a])}),a(b.root).on("selectstart",function(a){return a.preventDefault(),!1})}function m(a,b,c){if("undefined"!=typeof c&&C[c])return"url(#"+C[c]+")";var d=a.createId("gradient");b.id=d;var e;"linear"==b.type?e=a.svg.linearGradient(b):"radial"==b.type&&(e=a.svg.radialGradient(b));for(var f=0;f<b.stops.length;f++)e.append(a.svg.stop(b.stops[f]));return a.defs.append(e),"undefined"!=typeof c&&(C[c]=d),"url(#"+d+")"}function n(a,c){if(b.typeCheck("object",c))return m(a,c);var e=d.parse(c);return e==c?c:m(a,e,c)}function o(){1==arguments.length?t=a.extend(t,arguments[0]):2==arguments.length&&(t[arguments[0]]=arguments[1])}function p(a){if(null!=a){var c=null;return c=b.typeCheck("string",a)?[{type:a}]:b.typeCheck("array",a)?a:[a]}}var q,r,s,t,u=[],v=1,w=0,x=0,y={},z=[],A=[],B=[],C={};this.init=function(){var a=this.options;q="empty"==a.padding?{left:0,right:0,bottom:0,top:0}:a.padding,a.brush=p(a.brush),a.widget=p(a.widget),o(jui.include("chart.theme."+a.theme)),a.style&&o(a.style),a.bind&&this.bindUI(a.bind),this.svg=new c(this.root,{width:a.width,height:a.height}),this.update(),this.emit("load"),l(this)},this.width=function(){return s.width},this.height=function(){return s.height},this.x=function(){return s.x},this.y=function(){return s.y},this.x2=function(){return s.x2},this.y2=function(){return s.y2},this.padding=function(a){return q[a]?q[a]:q},this.color=function(a,c){var d;if(b.typeCheck("array",c.colors))d=c.colors[a];else{var e=t.colors;d=a>e.length-1?e[e.length-1]:e[a]}if(b.typeCheck("array",c.target)){var f=r[c.target[a]];f&&f.color&&(d=f.color)}return C[d]?"url(#"+C[d]+")":n(this,d)},this.text=function(a,c){var d=this.svg.text(b.extend({"font-family":this.theme("fontFamily"),"font-size":this.theme("fontSize"),fill:this.theme("fontColor")},a),c);return d},this.theme=function(a,b,c){if(0==arguments.length)return t;if(1==arguments.length){if(t[a])return a.indexOf("Color")>-1&&t[a]?n(this,t[a]):t[a]}else if(3==arguments.length){var d=a?b:c;return d.indexOf("Color")>-1&&t[d]?n(this,t[d]):t[d]}},this.series=function(a){return r[a]?r[a]:r},this.grid=function(a){return y[a]?y[a]:y},this.brush=function(a){return z[a]?z[a]:z},this.data=function(a,b){return u[a]?"undefined"!=typeof b?u[a][b]:u[a]:u},this.format=function(a){var c=this.options.format;return b.typeCheck("function",c)?c(a)+"":a+""},this.createId=function(a){return[a||"chart-id",+new Date,Math.round(100*Math.random())%100].join("-")},this.bindUI=function(a){function b(){for(var b=[],c=0;c<a.count();c++)b.push(a.get(c).data);d.update(b)}function c(){d.update(a.listData())}var d=this;"uix.table"==a.module.type?(a.callAfter("update",b),a.callAfter("sort",b),a.callAfter("append",b),a.callAfter("insert",b),a.callAfter("remove",b)):"uix.xtable"==a.module.type&&(a.callAfter("update",c),a.callAfter("sort",c))},this.render=function(){this.svg.reset(),e(this),f(this),g(this),h(this),i(this,"brush"),i(this,"widget"),this.svg.root.css({background:this.theme("backgroundColor")}),this.svg.render(),this.emit("render")},this.update=function(a){a&&(this.options.data=a),this.page(1)},this.page=function(a){if(0==arguments.length)return v-1;var b=this.options.data,c=this.options.bufferCount,d=Math.ceil(b.length/c);v=1>a?1:a>d?d:a,w=(v-1)*c,x=w+c,x>b.length&&(w=b.length-c,x=b.length),x<=b.length&&(w=0>w?0:w,u=b.slice(w,x),this.render(),b.length>0&&v++)},this.next=function(){var a=this.options.data,b=this.options.bufferCount,c=this.options.shiftCount;w+=c;var d=w+b>a.length;x=d?a.length:w+b,w=d?a.length-b:w,w=0>w?0:w,u=a.slice(w,x),this.render()},this.prev=function(){var a=this.options.data,b=this.options.bufferCount,c=this.options.shiftCount;w-=c;var d=0>w;x=d?b:w+b,w=d?0:w,u=a.slice(w,x),this.render()},this.zoom=function(a,b){if(0==arguments.length)return{start:w,end:x};if(a!=b){var c=this.options.data;x=b>c.length?c.length:b,w=0>a?0:a,u=c.slice(w,x),this.render()}},this.resize=function(a,b){2==arguments.length&&this.setOption({width:a,height:b}),this.svg.size(this.options.width,this.options.height),this.render(!0)},this.addBrush=function(a){this.options.brush.push(a),this.render()},this.removeBrush=function(a){this.options.brush.splice(a,1),this.render()},this.updateBrush=function(a,b){for(var c in b)this.options.brush[a][c]=b[c];this.render()},this.setTheme=function(a){var c=b.typeCheck("string",a)?jui.include("chart.theme."+a):a;null!=c&&(o(c),this.render())},this.setCsv=function(a){var c=[],d=this.options.csv,e=this.options.csvNumber;for(var f in r)c.push(f);if(0!=c.length||d){var g=b.getCsvFields(c,d),e=e?b.getCsvFields(g,e):null;this.update(b.csvToData(g,a,e))}},this.setCsvFile=function(a){var c=this;b.fileToCsv(a,function(a){c.setCsv(a)})}};return f.setup=function(){return{width:"100%",height:"100%",padding:{left:50,right:50,bottom:50,top:50},theme:"jennifer",style:{},series:{},grid:{},brush:null,widget:null,data:[],bind:null,format:null,bufferCount:100,shiftCount:1,csv:null,csvNumber:null}},f},"core"),jui.define("chart.theme.jennifer",[],function(){var a=["#7977C2","#7BBAE7","#FFC000","#FF7800","#87BB66","#1DA8A0","#929292","#555D69","#0298D5","#FA5559","#F5A397","#06D9B6","#C6A9D9","#6E6AFC","#E3E766","#C57BC3","#DF328B","#96D7EB","#839CB5","#9228E4"];return{backgroundColor:"white",fontSize:"11px",fontColor:"#333333",fontFamily:"arial,Tahoma,verdana",colors:a,gridFontColor:"#333333",gridActiveFontColor:"#ff7800",gridBorderColor:"#ebebeb",gridBorderWidth:1,gridBorderDashArray:"none",gridAxisBorderColor:"#ebebeb",gridAxisBorderWidth:1,gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,barBorderColor:"none",barBorderWidth:0,barBorderOpacity:0,columnBorderColor:"none",columnBorderWidth:0,columnBorderOpacity:0,gaugeBackgroundColor:"#ececec",gaugeArrowColor:"#666666",gaugeFontColor:"#666666",pieBorderColor:"white",pieBorderWidth:1,donutBorderColor:"white",donutBorderWidth:1,areaOpacity:.5,areaSplitBackgroundColor:"#929292",bubbleOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"black",candlestickBackgroundColor:"white",candlestickInvertBorderColor:"red",candlestickInvertBackgroundColor:"red",ohlcBorderColor:"black",ohlcInvertBorderColor:"red",ohlcBorderRadius:5,lineBorderWidth:2,lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathOpacity:.5,pathBorderWidth:1,scatterBorderColor:"white",scatterBorderWidth:1,scatterHoverColor:"white",waterfallBackgroundColor:"#87BB66",waterfallInvertBackgroundColor:"#FF7800",waterfallEdgeBackgroundColor:"#7BBAE7",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",titleFontColor:"#333",titleFontSize:"13px",legendFontColor:"#333",legendFontSize:"12px",tooltipFontColor:"#333",tooltipFontSize:"12px",tooltipBackgroundColor:"white",tooltipBorderColor:"#aaaaaa",tooltipOpacity:.7,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"red",zoomFocusColor:"gray",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"white",crossBalloonBackgroundColor:"black",crossBalloonOpacity:.5}}),jui.define("chart.theme.gradient",[],function(){var a=["linear(top) #9694e0,0.9 #7977C2","linear(top) #a1d6fc,0.9 #7BBAE7","linear(top) #ffd556,0.9 #ffc000","linear(top) #ff9d46,0.9 #ff7800","linear(top) #9cd37a,0.9 #87bb66","linear(top) #3bb9b2,0.9 #1da8a0","linear(top) #b3b3b3,0.9 #929292","linear(top) #67717f,0.9 #555d69","linear(top) #16b5f6,0.9 #0298d5","linear(top) #ff686c,0.9 #fa5559","linear(top) #fbbbb1,0.9 #f5a397","linear(top) #3aedcf,0.9 #06d9b6","linear(top) #d8c2e7,0.9 #c6a9d9","linear(top) #8a87ff,0.9 #6e6afc","linear(top) #eef18c,0.9 #e3e768","linear(top) #ee52a2,0.9 #df328b","linear(top) #b6e5f4,0.9 #96d7eb","linear(top) #93aec8,0.9 #839cb5","linear(top) #b76fef,0.9 #9228e4"];return{backgroundColor:"white",fontSize:"11px",fontColor:"#666",fontFamily:"arial,Tahoma,verdana",colors:a,gridFontColor:"#666",gridActiveFontColor:"#ff7800",gridBorderColor:"#efefef",gridBorderWidth:1,gridBorderDashArray:"none",gridAxisBorderColor:"#efefef",gridAxisBorderWidth:1,gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,barBorderColor:"none",barBorderWidth:0,barBorderOpacity:0,columnBorderColor:"none",columnBorderWidth:0,columnBorderOpacity:0,gaugeBackgroundColor:"#ececec",gaugeArrowColor:"#666666",gaugeFontColor:"#666666",pieBorderColor:"white",pieBorderWidth:1,donutBorderColor:"white",donutBorderWidth:1,areaOpacity:.4,areaSplitBackgroundColor:"linear(top) #b3b3b3,0.9 #929292",bubbleOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"#14be9d",candlestickBackgroundColor:"linear(top) #27d7b5",candlestickInvertBorderColor:"#ff4848",candlestickInvertBackgroundColor:"linear(top) #ff6e6e",ohlcBorderColor:"#14be9d",ohlcInvertBorderColor:"#ff4848",ohlcBorderRadius:5,lineBorderWidth:2,lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathOpacity:.5,pathBorderWidth:1,scatterBorderColor:"white",scatterBorderWidth:2,scatterHoverColor:"white",waterfallBackgroundColor:"linear(top) #9cd37a,0.9 #87bb66",waterfallInvertBackgroundColor:"linear(top) #ff9d46,0.9 #ff7800",waterfallEdgeBackgroundColor:"linear(top) #a1d6fc,0.9 #7BBAE7",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",titleFontColor:"#333",titleFontSize:"13px",legendFontColor:"#666",legendFontSize:"12px",tooltipFontColor:"#fff",tooltipFontSize:"12px",tooltipBackgroundColor:"black",tooltipBorderColor:"none",tooltipOpacity:1,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"red",zoomFocusColor:"gray",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"white",crossBalloonBackgroundColor:"black",crossBalloonOpacity:.8}}),jui.define("chart.theme.dark",[],function(){var a=["#12f2e8","#26f67c","#e9f819","#b78bf9","#f94590","#8bccf9","#9228e4","#06d9b6","#fc6d65","#f199ff","#c8f21d","#16a6e5","#00ba60","#91f2a1","#fc9765","#f21d4f"];return{backgroundColor:"#222222",fontSize:"12px",fontColor:"#c5c5c5",fontFamily:"arial,Tahoma,verdana",colors:a,gridFontColor:"#868686",gridActiveFontColor:"#ff762d",gridBorderColor:"#464646",gridBorderWidth:1,gridBorderDashArray:"none",gridAxisBorderColor:"#464646",gridAxisBorderWidth:1,gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,barBorderColor:"none",barBorderWidth:0,barBorderOpacity:0,columnBorderColor:"none",columnBorderWidth:0,columnBorderOpacity:0,gaugeBackgroundColor:"#3e3e3e",gaugeArrowColor:"#a6a6a6",gaugeFontColor:"#c5c5c5",pieBorderColor:"#232323",pieBorderWidth:1,donutBorderColor:"#232323",donutBorderWidth:1,areaOpacity:.5,areaSplitBackgroundColor:"#ebebeb",bubbleOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"#14be9d",candlestickBackgroundColor:"#14be9d",candlestickInvertBorderColor:"#ff4848",candlestickInvertBackgroundColor:"#ff4848",ohlcBorderColor:"#14be9d",ohlcInvertBorderColor:"#ff4848",ohlcBorderRadius:5,lineBorderWidth:2,lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathOpacity:.2,pathBorderWidth:1,scatterBorderColor:"none",scatterBorderWidth:1,scatterHoverColor:"#222222",waterfallBackgroundColor:"#26f67c",waterfallInvertBackgroundColor:"#f94590",waterfallEdgeBackgroundColor:"#8bccf9",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",titleFontColor:"#ffffff",titleFontSize:"14px",legendFontColor:"#ffffff",legendFontSize:"11px",tooltipFontColor:"#333333",tooltipFontSize:"12px",tooltipBackgroundColor:"white",tooltipBorderColor:"white",tooltipOpacity:1,scrollBackgroundColor:"#3e3e3e",scrollThumbBackgroundColor:"#666666",scrollThumbBorderColor:"#686868",zoomBackgroundColor:"red",zoomFocusColor:"gray",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"#333",crossBalloonBackgroundColor:"white",crossBalloonOpacity:1}}),jui.define("chart.theme.pastel",[],function(){var a=["#73e9d2","#fef92c","#ff9248","#b7eef6","#08c4e0","#ffb9ce","#ffd4ba","#14be9d","#ebebeb","#666666","#cdbfe3","#bee982","#c22269"];return{backgroundColor:"white",fontSize:"11px",fontColor:"#333333",fontFamily:"Caslon540BT-Regular,Times,New Roman,serif",colors:a,gridFontColor:"#333333",gridActiveFontColor:"#ff7800",gridBorderColor:"#bfbfbf",gridBorderWidth:1,gridBorderDashArray:"1, 3",gridAxisBorderColor:"#bfbfbf",gridAxisBorderWidth:1,gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,barBorderColor:"none",barBorderWidth:0,barBorderOpacity:0,columnBorderColor:"none",columnBorderWidth:0,columnBorderOpacity:0,gaugeBackgroundColor:"#f5f5f5",gaugeArrowColor:"gray",gaugeFontColor:"#666666",pieBorderColor:"white",pieBorderWidth:1,donutBorderColor:"white",donutBorderWidth:3,areaOpacity:.4,areaSplitBackgroundColor:"#ebebeb",bubbleOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"#14be9d",candlestickBackgroundColor:"#14be9d",candlestickInvertBorderColor:"#ff4848",candlestickInvertBackgroundColor:"#ff4848",ohlcBorderColor:"#14be9d",ohlcInvertBorderColor:"#ff4848",ohlcBorderRadius:5,lineBorderWidth:2,lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathOpacity:.5,pathBorderWidth:1,scatterBorderColor:"white",scatterBorderWidth:1,scatterHoverColor:"white",waterfallBackgroundColor:"#73e9d2",waterfallInvertBackgroundColor:"#ffb9ce",waterfallEdgeBackgroundColor:"#08c4e0",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",titleFontColor:"#333",titleFontSize:"18px",legendFontColor:"#333",legendFontSize:"11px",tooltipFontColor:"#fff",tooltipFontSize:"12px",tooltipBackgroundColor:"black",tooltipBorderColor:"black",tooltipOpacity:.7,scrollBackgroundColor:"#f5f5f5",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"red",zoomFocusColor:"gray",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"white",crossBalloonBackgroundColor:"black",crossBalloonOpacity:.7}}),jui.define("chart.grid.core",["util.base"],function(a){var b=function(){this.setBlockDomain=function(a,b){if(("radar"==b.type||"block"==b.type)&&b.target&&!b.domain){var c=[],d=a.data();if(b.reverse)var e=d.length-1,f=0,g=-1;else var e=0,f=d.length-1,g=1;for(var h=e;b.reverse?h>=f:f>=h;h+=g)c.push(d[h][b.target]);b.domain=c,b.reverse&&b.domain.reverse()}return b},this.setRangeDomain=function(a,b){if(("string"==typeof b.target||"function"==typeof b.target)&&(b.target=[b.target]),b.target&&b.target.length&&!b.domain){for(var c=b.max,d=b.min,e=a.data(),f=0;f<b.target.length;f++){var g=b.target[f];if("function"==typeof g)for(var h=0;h<e.length;h++){var i=e[h],j=+g(i);j>c&&(c=j),d>j&&(d=j)}else{var k=a.series(g).max,l=a.series(g).min;k>c&&(c=k),d>l&&(d=l)}}b.max=c,b.min=d;for(var m=b.unit||Math.ceil((c-d)/b.step),n=0;c>n;)n+=m;for(var o=0;o>d;)o-=m;0==m?b.domain=[0,0]:(b.domain=[o,n],b.reverse&&b.domain.reverse(),b.step=Math.abs(n/m)+Math.abs(o/m))}return b},this.setDateDomain=function(a,b){if(("string"==typeof b.target||"function"==typeof b.target)&&(b.target=[b.target]),b.target&&b.target.length){for(var c=b.min||void 0,d=b.max||void 0,e=a.data(),f=0;f<b.target.length;f++)for(var g=b.target[f],h=0;h<e.length;h++){var i=+e[h][g];"undefined"==typeof c?c=i:c>i&&(c=i),"undefined"==typeof d?d=i:i>d&&(d=i)}b.max=d,b.min=c,b.domain=[b.min,b.max],b.reverse&&b.domain.reverse()}return b},this.wrapper=function(a,b,c){function d(b){return c&&(b=a.data(b)[c]),e(b)}var e=b;return d.max=function(){return e.max.apply(e,arguments)},d.min=function(){return e.min.apply(e,arguments)},d.rangeBand=function(){return e.rangeBand.apply(e,arguments)},d.rate=function(){return e.rate.apply(e,arguments)},d.invert=function(){return e.invert.apply(e,arguments)},d.clamp=function(){return e.clamp.apply(e,arguments)},d.key=c,d},this.axisLine=function(b,c){return b.svg.line(a.extend({x1:0,y1:0,x2:0,y2:0,stroke:this.color("gridAxisBorderColor"),"stroke-width":b.theme("gridAxisBorderWidth"),"stroke-opacity":1},c))},this.line=function(b,c){return b.svg.line(a.extend({x1:0,y1:0,x2:0,y2:0,stroke:this.color("gridBorderColor"),"stroke-width":b.theme("gridBorderWidth"),"stroke-dasharray":b.theme("gridBorderDashArray"),"stroke-opacity":1},c))},this.color=function(a){return 3==arguments.length?this.grid.color?this.chart.color(0,{colors:[this.grid.color]}):this.chart.theme.apply(this.chart,arguments):this.grid.color?this.chart.color(0,{colors:[this.grid.color]}):this.chart.theme(a)},this.drawGrid=function(a,b,c,d){var e=a.svg.group({"class":["grid",c].join(" ")});return this[b].call(this,a,e),this.scale=this.wrapper(a,this.scale,d.key),d.hide&&e.attr({display:"none"}),{root:e,scale:this.scale}},this.getGridSize=function(a,b,c){var d=a.width(),e=a.height(),f="left"==b||"right"==b?e:d,g=0;c.start&&(g="string"==typeof c.start&&c.start.indexOf("%")>-1?f*parseFloat(c.start.replace("%",""))/100:c.start);var h=f;return c.size&&(h="string"==typeof c.size&&c.size.indexOf("%")>-1?f*parseFloat(c.size.replace("%",""))/100:c.size),"center"==g&&(g=f/2-h/2),{start:g,size:h,end:g+h}},this.drawSetup=function(){var a=this,b=function(b){return a.chart.format(b)};return{domain:null,step:10,min:0,max:0,reverse:!1,key:null,hide:!1,unit:0,color:null,title:null,start:null,size:null,line:!1,format:b}}};return b},"chart.draw"),jui.define("chart.grid.block",["util.scale"],function(a){var b=function(b,c,d){this.top=function(a,b){var c=a.height();d.line||b.append(this.axisLine(a,{x1:this.start,x2:this.end}));for(var e=0;e<this.points.length;e++){var f=d.format(this.domain[e]);if(""!=f){var g=a.svg.group({transform:"translate("+this.points[e]+", 0)"});g.append(this.line(a,{x1:-this.half_band,y1:0,x2:-this.half_band,y2:d.line?c:this.bar})),g.append(a.text({x:0,y:-20,"text-anchor":"middle"},f)),b.append(g)}}if(!d.full){var g=a.svg.group({transform:"translate("+this.end+", 0)"});g.append(this.line(a,{y2:d.line?c:this.bar})),b.append(g)}},this.bottom=function(a,b){var c=a.height();d.line||b.append(this.axisLine(a,{x1:this.start,x2:this.end}));for(var e=0,f=this.points.length;f>e;e++){var g=d.format(this.domain[e]);if(""!=g){var h=a.svg.group({transform:"translate("+this.points[e]+", 0)"});h.append(this.line(a,{x1:-this.half_band,y1:0,x2:-this.half_band,y2:d.line?-c:this.bar})),h.append(a.text({x:0,y:20,"text-anchor":"middle"},g)),b.append(h)}}if(!d.full){var h=a.svg.group({transform:"translate("+this.end+", 0)"});h.append(this.line(a,{y2:d.line?-c:this.bar})),b.append(h)}},this.left=function(a,b){var c=a.width();d.line||b.append(this.axisLine(a,{y1:this.start,y2:this.end}));for(var e=0;e<this.points.length;e++){var f=d.format(this.domain[e]);if(""!=f){var g=a.svg.group({transform:"translate(0, "+(this.points[e]-this.half_band)+")"});g.append(this.line(a,{x2:d.line?c:-this.bar})),g.append(a.text({x:-this.bar-4,y:this.half_band,"text-anchor":"end"},f)),b.append(g)}}if(!d.full){var g=a.svg.group({transform:"translate(0, "+this.end+")"});g.append(this.line(a,{x2:d.line?a.width():-this.bar})),b.append(g)}},this.right=function(a,b){d.line||b.append(this.axisLine(a,{y1:this.start,y2:this.end}));for(var c=0;c<this.points.length;c++){var e=d.format(this.domain[c]);if(""!=e){var f=a.svg.group({transform:"translate(0, "+(this.points[c]-this.half_band)+")"});f.append(this.line(a,{x2:d.line?-a.width():this.bar})),f.append(a.text({x:this.bar+4,y:this.half_band,"text-anchor":"start"},e)),b.append(f)}}if(!d.full){var f=a.svg.group({transform:"translate(0, "+this.end+")"});f.append(this.line(a,{x2:d.line?-a.width():this.bar})),b.append(f)}},this.drawBefore=function(){d.type=d.type||"block",d=this.setBlockDomain(c,d);var e=this.getGridSize(c,b,d);this.scale=a.ordinal().domain(d.domain);var f=[e.start,e.end];d.full?this.scale.rangeBands(f):this.scale.rangePoints(f),this.start=e.start,this.size=e.size,this.end=e.end,this.points=this.scale.range(),this.domain=this.scale.domain(),this.band=this.scale.rangeBand(),this.half_band=d.full?0:this.band/2,this.bar=6,this.reverse=d.reverse
},this.draw=function(){return this.drawGrid(c,b,"block",d)},this.drawSetup=function(){return $.extend(this.parent.drawSetup(),{max:10,start:0,size:0,full:!1})}};return b},"chart.grid.core"),jui.define("chart.grid.date",["util.time","util.scale"],function(a,b){var c=function(c,d,e){this.top=function(a,b){e.line||b.append(this.axisLine(a,{x1:this.start,x2:this.end}));for(var c=this.ticks,d=this.values,f=this.bar,g=0;g<c.length;g++){var h=e.format(c[g]);if(""!=h){var i=a.svg.group({transform:"translate("+d[g]+", 0)"});i.append(this.line(a,{y2:e.line?a.height():-f})),i.append(a.text({x:0,y:-f-4,"text-anchor":"middle",fill:a.theme("gridFontColor")},h)),b.append(i)}}},this.bottom=function(a,b){e.line||b.append(this.axisLine(a,{x1:this.start,x2:this.end}));for(var c=this.ticks,d=this.values,f=this.bar,g=0;g<c.length;g++){var h=e.format(c[g]);if(""!=h){var i=a.svg.group({transform:"translate("+d[g]+", 0)"});i.append(this.line(a,{y2:e.line?-a.height():f})),i.append(a.text({x:0,y:3*f,"text-anchor":"middle",fill:a.theme("gridFontColor")},h)),b.append(i)}}},this.left=function(a,b){e.line||b.append(this.axisLine(a,{y1:this.start,y2:this.end}));for(var c=this.ticks,d=this.values,f=this.bar,g=0;g<c.length;g++){var h=e.format(c[g]);if(""!=h){var i=a.svg.group({transform:"translate(0,"+d[g]+")"});i.append(this.line(a,{x2:e.line?a.width():-f})),i.append(a.text({x:-f-2,y:f-2,"text-anchor":"end",fill:a.theme("gridFontColor")},h)),b.append(i)}}},this.right=function(a,b){e.line||b.append(this.axisLine(a,{y1:this.start,y2:this.end}));for(var c=this.ticks,d=this.values,f=this.bar,g=0;g<c.length;g++){var h=e.format(c[g]);if(""!=h){var i=a.svg.group({transform:"translate(0,"+d[g]+")"});i.append(this.line(a,{x2:e.line?-a.width():f})),i.append(a.text({x:f+4,y:-f,"text-anchor":"start",fill:a.theme("gridFontColor")},h)),b.append(i)}}},this.drawBefore=function(){e=this.setDateDomain(d,e);var f=this.getGridSize(d,c,e),g=[f.start,f.end];this.scale=b.time().domain(e.domain).rangeRound(g),this.ticks=e.realtime?this.scale.realTicks(e.step[0],e.step[1]):this.scale.ticks(e.step[0],e.step[1]),"string"==typeof e.format&&!function(b,c){b.format=function(b){return a.format(b,c)}}(e,e.format),this.start=f.start,this.size=f.size,this.end=f.end,this.bar=6,this.values=[];for(var h=0,i=this.ticks.length;i>h;h++)this.values[h]=this.scale(this.ticks[h])},this.draw=function(){return this.drawGrid(d,c,"date",e)},this.drawSetup=function(){return $.extend(this.parent.drawSetup(),{realtime:!1})}};return c},"chart.grid.core"),jui.define("chart.grid.radar",["util.math"],function(a){var b=function(b,c,d){function e(a,b,c,d,e,f){var g=Math.abs(f),i=c,j=d;b.append(a.svg.circle({cx:i,cy:j,r:g,"fill-opacity":0,stroke:h.color("gridAxisBorderColor"),"stroke-width":a.theme("gridBorderWidth")}))}function f(b,c,d,e,f,g,i,j){var k=b.svg.group(),l=[];l.push([d+f,e+g]);for(var m=f,n=g,o=0;i>o;o++){var p=a.rotate(m,n,j);m=p.x,n=p.y,l.push([d+p.x,e+p.y])}for(var q=b.svg.path({fill:"none",stroke:h.color("gridAxisBorderColor"),"stroke-width":b.theme("gridBorderWidth")}),o=0;o<l.length;o++){var r=l[o];0==o?q.MoveTo(r[0],r[1]):q.LineTo(r[0],r[1])}q.LineTo(l[0][0],l[0][1]),k.append(q),c.append(k)}function g(b){var c=d.max,e=d.domain;return function(d,f){var g=f/c,h=Math.abs(b.y1)-Math.abs(b.y2),i=h*g,j=2*Math.PI/e.length,k=b.x1,l=b.y1,m=-i,n=0,o=a.rotate(n,m,j*d);return n=o.x,m=o.y,{x:k+n,y:l+m}}}var h=this,i=[];this.drawBefore=function(){d=this.setBlockDomain(c,d)},this.draw=function(){var b=c.width(),h=c.height(),j=b;j>h&&(j=h);var k=j/2,l=c.x()+b/2,m=c.y()+h/2,n=-k,o=0,p=d.domain.length,q=d.step,r=2*Math.PI/p,s=Math.abs(n)/q,t=c.svg.group({"class":"grid radar"}),u=c.svg.group();t.append(u),i=[];for(var v=0;p>v;v++){var w=l+o,x=m+n;u.append(c.svg.line({x1:l,y1:m,x2:w,y2:x,stroke:this.color("gridAxisBorderColor"),"stroke-width":c.theme("gridBorderWidth")})),i[v]={x1:l,y1:m,x2:w,y2:x};var y=x,z=w,A="middle";x>m?y=x+20:m>x&&(y=x-10),w>l?(A="start",z+=10):l>w&&(A="end",z-=10),d.hideText||u.append(c.text({x:z,y:y,"text-anchor":A,fill:c.theme("gridFontColor")},d.domain[v]));var B=a.rotate(o,n,r);o=B.x,n=B.y}if(!d.line)return{root:u,scale:g(i[0])};n=-k;for(var C=0,D=d.max/d.step,v=0;q>v;v++)0==v&&d.extra?n+=s:("circle"==d.shape?e(c,u,l,m,0,n,p):f(c,u,l,m,0,n,p,r),d.hideText||u.append(c.text({x:l,y:m+(n+s-5),fill:c.theme("gridFontColor")},d.max-C+"")),n+=s,C+=D);return d.hide&&u.attr({display:"none"}),{root:u,scale:g(i[0])}},this.drawSetup=function(){return $.extend(this.parent.drawSetup(),{max:100,line:!0,hideText:!1,extra:!1,shape:"radial"})}};return b},"chart.grid.core"),jui.define("chart.grid.range",["util.scale"],function(a){var b=function(b,c,d){this.top=function(a,b){d.line||b.append(this.axisLine(a,{x2:this.size}));for(var c=this.scale.min(),e=this.ticks,f=this.values,g=this.bar,h=0;h<e.length;h++){var i=d.format(e[h]);if(""!=i){var j=0==e[h]&&e[h]!=c,k=a.svg.group({transform:"translate("+f[h]+", 0)"});k.append(this.line(a,{y2:d.line?a.height():-g,stroke:this.color(j,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":a.theme(j,"gridActiveBorderWidth","gridBorderWidth")})),k.append(a.text({x:0,y:-g-4,"text-anchor":"middle",fill:a.theme(j,"gridActiveFontColor","gridFontColor")},i)),b.append(k)}}},this.bottom=function(a,b){d.line||b.append(this.axisLine(a,{x1:this.start,x2:this.end}));for(var c=this.scale.min(),e=this.ticks,f=this.values,g=this.bar,h=0;h<e.length;h++){var i=d.format(e[h]);if(""!=i){var j=0==e[h]&&e[h]!=c,k=a.svg.group({transform:"translate("+f[h]+", 0)"});k.append(this.line(a,{y2:d.line?-a.height():g,stroke:this.color(j,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":a.theme(j,"gridActiveBorderWidth","gridBorderWidth")})),k.append(a.text({x:0,y:3*g,"text-anchor":"middle",fill:a.theme(j,"gridActiveFontColor","gridFontColor")},i)),b.append(k)}}},this.left=function(a,b){d.line||b.append(this.axisLine(a,{y1:this.start,y2:this.end}));for(var c=this.scale.min(),e=this.ticks,f=this.values,g=this.bar,h=0;h<e.length;h++){var i=d.format(e[h]);if(""!=i){var j=0==e[h]&&e[h]!=c,k=a.svg.group({transform:"translate(0, "+f[h]+")"});k.append(this.line(a,{x2:d.line?a.width():-g,stroke:this.color(j,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":a.theme(j,"gridActiveBorderWidth","gridBorderWidth")})),d.hideText||k.append(a.text({x:-g-4,y:g,"text-anchor":"end",fill:a.theme(j,"gridActiveFontColor","gridFontColor")},i)),b.append(k)}}},this.right=function(a,b){d.line||b.append(this.axisLine(a,{y1:this.start,y2:this.end}));for(var c=this.scale.min(),e=this.ticks,f=this.values,g=this.bar,h=0;h<e.length;h++){var i=d.format(e[h]);if(""!=i){var j=0==e[h]&&e[h]!=c,k=a.svg.group({transform:"translate(0, "+f[h]+")"});k.append(this.line(a,{x2:d.line?-a.width():g,stroke:this.color(j,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":a.theme(j,"gridActiveBorderWidth","gridBorderWidth")})),k.append(a.text({x:g+4,y:g,"text-anchor":"start",fill:a.theme(j,"gridActiveFontColor","gridFontColor")},i)),b.append(k)}}},this.drawBefore=function(){d=this.setRangeDomain(c,d);var e=this.getGridSize(c,b,d);this.scale=a.linear().domain(d.domain),this.scale.range("left"==b||"right"==b?[e.end,e.start]:[e.start,e.end]),this.start=e.start,this.size=e.size,this.end=e.end,this.step=d.step,this.nice=d.nice,this.ticks=this.scale.ticks(this.step,this.nice),this.bar=6,this.values=[];for(var f=0,g=this.ticks.length;g>f;f++)this.values[f]=this.scale(this.ticks[f])},this.draw=function(){return this.drawGrid(c,b,"range",d)},this.drawSetup=function(){return $.extend(this.parent.drawSetup(),{hideText:!1,nice:!1})}};return b},"chart.grid.core"),jui.define("chart.brush.core",["util.base"],function(){var a=function(){function a(a,b){var c=$(a.chart.root).offset(),d=b.pageX-c.left,e=b.pageY-c.top;b.bgX=d,b.bgY=e,b.chartX=d-a.chart.padding("left"),b.chartY=e-a.chart.padding("top")}this.curvePoints=function(a){var b=[],c=[],d=a.length-1,e=[],f=[],g=[],h=[];for(e[0]=0,f[0]=2,g[0]=1,h[0]=a[0]+2*a[1],i=1;d-1>i;i++)e[i]=1,f[i]=4,g[i]=1,h[i]=4*a[i]+2*a[i+1];e[d-1]=2,f[d-1]=7,g[d-1]=0,h[d-1]=8*a[d-1]+a[d];for(var i=1;d>i;i++){var j=e[i]/f[i-1];f[i]=f[i]-j*g[i-1],h[i]=h[i]-j*h[i-1]}b[d-1]=h[d-1]/f[d-1];for(var i=d-2;i>=0;--i)b[i]=(h[i]-g[i]*b[i+1])/f[i];for(var i=0;d-1>i;i++)c[i]=2*a[i+1]-b[i+1];return c[d-1]=.5*(a[d]+b[d-1]),{p1:b,p2:c}},this.getScaleValue=function(a,b,c,d,e){function f(){var d=c-b,e=a-b,f=e/d;return f}var g=e-d,h=g*f();return h+d},this.getXY=function(){for(var a=[],b=0,c=this.chart.data().length;c>b;b++)for(var d=this.brush.x(b),e=this.chart.data(b),f=0;f<this.brush.target.length;f++){var g=this.brush.target[f],h=e[g],i=this.chart.series(g);a[f]||(a[f]={x:[],y:[],value:[],min:[],max:[]}),a[f].x.push(d),a[f].y.push(this.brush.y(h)),a[f].value.push(h),a[f].min.push(h==i.min?!0:!1),a[f].max.push(h==i.max?!0:!1)}return a},this.getStackXY=function(){for(var a=this.getXY(),b=0,c=this.chart.data().length;c>b;b++)for(var d=this.chart.data(b),e=0,f=0;f<this.brush.target.length;f++){var g=this.brush.target[f],h=d[g];f>0&&(e+=d[this.brush.target[f-1]]),a[f].y[b]=this.brush.y(h+e)}return a},this.addEvent=function(b,c,d){var e=this,f={brush:e.brush,dataIndex:d,dataKey:null!=c?e.brush.target[c]:null,data:null!=d?e.chart.data(d):null};b.on("click",function(b){a(e,b),e.chart.emit("click",[f,b])}),b.on("dblclick",function(b){a(e,b),e.chart.emit("dblclick",[f,b])}),b.on("contextmenu",function(b){a(e,b),e.chart.emit("rclick",[f,b]),b.preventDefault()}),b.on("mouseover",function(b){a(e,b),e.chart.emit("mouseover",[f,b])}),b.on("mouseout",function(b){a(e,b),e.chart.emit("mouseout",[f,b])}),b.on("mousemove",function(b){a(e,b),e.chart.emit("mousemove",[f,b])}),b.on("mousedown",function(b){a(e,b),e.chart.emit("mousedown",[f,b])}),b.on("mouseup",function(b){a(e,b),e.chart.emit("mouseup",[f,b])})}};return a},"chart.draw"),jui.define("chart.brush.bar",[],function(){var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;this.drawBefore=function(){c=a.svg.group(),i=b.outerPadding,j=b.innerPadding,d=b.x(0),e=a.data().length,f=b.y.rangeBand(),g=f-2*i,h=(g-(b.target.length-1)*j)/b.target.length,k=a.theme("barBorderColor"),l=a.theme("barBorderWidth"),m=a.theme("barBorderOpacity")},this.draw=function(){for(var f=0;e>f;f++){for(var i=a.svg.group(),n=b.y(f)-g/2,o=0;o<b.target.length;o++){var p=b.x(a.data(f,b.target[o])),q=null;if(p>=d)q=a.svg.rect({x:d,y:n,height:h,width:Math.abs(d-p),fill:a.color(o,b),stroke:k,"stroke-width":l,"stroke-opacity":m});else{var r=Math.abs(d-p);q=a.svg.rect({y:n,x:d-r,height:h,width:r,fill:a.color(o,b),stroke:k,"stroke-width":l,"stroke-opacity":m})}this.addEvent(q,o,f),i.append(q),n+=h+j}c.append(i)}return c},this.drawSetup=function(){return{outerPadding:2,innerPadding:1}}};return a},"chart.brush.core"),jui.define("chart.brush.bubble",[],function(){var a=function(a,b){function c(a,b,c,e){var f=a.series(b.target[e]),g=d.getScaleValue(c.value,f.min,f.max,b.min,b.max);return a.svg.circle({cx:c.x,cy:c.y,r:g,fill:a.color(e,b),"fill-opacity":a.theme("bubbleOpacity"),stroke:a.color(e,b),"stroke-width":a.theme("bubbleBorderWidth")})}var d=this;this.drawBubble=function(a,b,d){for(var e=a.svg.group({"clip-path":"url(#"+a.clipId+")"}),f=0;f<d.length;f++)for(var g=0;g<d[f].x.length;g++){var h=c(a,b,{x:d[f].x[g],y:d[f].y[g],value:d[f].value[g]},f);this.addEvent(h,f,g),e.append(h)}return e},this.draw=function(){return this.drawBubble(a,b,this.getXY())},this.drawSetup=function(){return{min:5,max:30}}};return a},"chart.brush.core"),jui.define("chart.brush.candlestick",[],function(){var a=function(a,b){function c(a){for(var c={},d=0;d<b.target.length;d++){var e=a.series(b.target[d]);c[e.type]=e}return c}var d,e,f=0,g=0,h=0;this.drawBefore=function(){d=a.svg.group(),e=a.data().length,f=b.x.rangeBand(),g=.7*f,h=g/2},this.draw=function(){for(var f=c(a),i=0;e>i;i++){var j=b.x(i),k=null,l=null,m=f.open.data[i],n=f.close.data[i],o=f.low.data[i],p=f.high.data[i];if(m>n){var q=b.y(m);l=a.svg.line({x1:j,y1:b.y(p),x2:j,y2:b.y(o),stroke:a.theme("candlestickInvertBorderColor"),"stroke-width":1}),k=a.svg.rect({x:j-h,y:q,width:g,height:Math.abs(b.y(n)-q),fill:a.theme("candlestickInvertBackgroundColor"),stroke:a.theme("candlestickInvertBorderColor"),"stroke-width":1})}else{var q=b.y(n);l=a.svg.line({x1:j,y1:b.y(p),x2:j,y2:b.y(o),stroke:a.theme("candlestickBorderColor"),"stroke-width":1}),k=a.svg.rect({x:j-h,y:q,width:g,height:Math.abs(b.y(m)-q),fill:a.theme("candlestickBackgroundColor"),stroke:a.theme("candlestickBorderColor"),"stroke-width":1})}this.addEvent(k,null,i),d.append(l),d.append(k)}return d},this.drawSetup=function(){return{}}};return a},"chart.brush.core"),jui.define("chart.brush.ohlc",[],function(){var a=function(a,b){function c(a){for(var c={},d=0;d<b.target.length;d++){var e=a.series(b.target[d]);c[e.type]=e}return c}var d,e;this.drawBefore=function(){d=a.svg.group(),e=a.data().length},this.draw=function(){for(var f=c(a),g=0;e>g;g++){var h=b.x(g),i=f.open.data[g],j=f.close.data[g],k=f.low.data[g],l=f.high.data[g],m=a.theme(i>j?"ohlcInvertBorderColor":"ohlcBorderColor"),n=a.svg.line({x1:h,y1:b.y(l),x2:h,y2:b.y(k),stroke:m,"stroke-width":1}),j=a.svg.line({x1:h,y1:b.y(j),x2:h+a.theme("ohlcBorderRadius"),y2:b.y(j),stroke:m,"stroke-width":1}),i=a.svg.line({x1:h,y1:b.y(i),x2:h-a.theme("ohlcBorderRadius"),y2:b.y(i),stroke:m,"stroke-width":1});this.addEvent(n,null,g),d.append(n),d.append(j),d.append(i)}return d},this.drawSetup=function(){return{}}};return a},"chart.brush.core"),jui.define("chart.brush.column",[],function(){var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;this.drawBefore=function(){c=a.svg.group(),i=b.outerPadding,j=b.innerPadding,d=b.y(0),e=a.data().length,f=b.x.rangeBand(),h=f-2*i,g=(f-2*i-(b.target.length-1)*j)/b.target.length,k=a.theme("columnBorderColor"),l=a.theme("columnBorderWidth"),m=a.theme("columnBorderOpacity")},this.draw=function(){for(var f=0;e>f;f++)for(var i=b.x(f)-h/2,n=0;n<b.target.length;n++){var o=b.y(a.data(f)[b.target[n]]),p=null;p=a.svg.rect(d>=o?{x:i,y:o,width:g,height:Math.abs(d-o),fill:a.color(n,b),stroke:k,"stroke-width":l,"stroke-opacity":m}:{x:i,y:d,width:g,height:Math.abs(d-o),fill:a.color(n,b),stroke:k,"stroke-width":l,"stroke-opacity":m}),this.addEvent(p,n,f),c.append(p),i+=g+j}return c},this.drawSetup=function(){return{outerPadding:2,innerPadding:1}}};return a},"chart.brush.core"),jui.define("chart.brush.donut",["util.math"],function(a){var b=function(){var b,c,d,e,f,g,h;this.drawDonut=function(b,c,d,e,f,g,h,i){i=i||!1;var j=Math.abs(e-d),k=this.chart.svg.group({"class":"donut"}),l=this.chart.svg.path(h),m=a.rotate(0,-e,a.radian(f)),n=m.x,o=m.y,p=a.rotate(0,-d,a.radian(f)),q=p.x,r=p.y;if(l.MoveTo(n,o),m=a.rotate(n,o,a.radian(g)),p=a.rotate(q,r,a.radian(g)),k.translate(b,c),l.Arc(e,e,0,g>180?1:0,1,m.x,m.y),l.LineTo(p.x,p.y),l.Arc(d,d,0,g>180?1:0,0,q,r),l.ClosePath(),k.append(l),i){var s=a.rotate(0,-d-j/2,a.radian(f)),t=s.x,u=s.y,v=a.rotate(t,u,a.radian(g)),w=this.chart.svg.circle({cx:v.x,cy:v.y,r:j/2,fill:h.fill});k.append(w);var x=this.chart.svg.circle({cx:v.x,cy:v.y,r:3,fill:"white"});k.append(x)}return k},this.drawBefore=function(){var a=this.chart.width(),i=this.chart.height(),j=a;j>i&&(j=i),b=j/2,c=a/2,d=i/2,e=-b,f=0,g=Math.abs(e),h=g-this.brush.size},this.draw=function(){for(var a=this.chart.svg.group({"class":"brush donut"}),b=this.brush.target,e=this.chart.data(0),f=360,i=0,j=0,k=0;k<b.length;k++)j+=e[b[k]];for(var k=0;k<b.length;k++){var l=e[b[k]],m=f*(l/j),n=this.drawDonut(c,d,h,g,i,m,{fill:this.chart.color(k,this.brush),stroke:this.chart.theme("donutBorderColor"),"stroke-width":this.chart.theme("donutBorderWidth")});this.addEvent(n,k,0),a.append(n),i+=m}return a},this.drawSetup=function(){return{size:50}}};return b},"chart.brush.core"),jui.define("chart.brush.equalizer",[],function(){var a=function(a,b){var c,d,e,f,g,h;this.drawBefore=function(){c=a.svg.group(),d=b.y(0),e=a.data().length,f=b.x.rangeBand(),h=(f-2*b.outerPadding)/2,g=(f-2*b.outerPadding-(b.target.length-1)*b.innerPadding)/b.target.length},this.draw=function(){for(var f=0;e>f;f++)for(var i=b.x(f)-h,j=0;j<b.target.length;j++){var k=a.svg.group(),l=b.y(a.data(f,b.target[j])),m=1.5,n=d,o=0;if(d>=l)for(;n>l;){var p=n-b.unit<l?Math.abs(n-l):b.unit,q=a.svg.rect({x:i,y:n-p,width:g,height:p,fill:a.color(Math.floor(o/b.gap),b)});n-=p+m,o++,k.append(q)}else for(;l>n;){var p=n+b.unit>l?Math.abs(n-l):b.unit,q=a.svg.rect({x:i,y:n,width:g,height:p,fill:a.color(Math.floor(o/b.gap),b)});n+=p+m,o++,k.append(q)}this.addEvent(k,j,f),c.append(k),i+=g+b.innerPadding}return c},this.drawSetup=function(){return{innerPadding:10,outerPadding:15,unit:5,gap:5}}};return a},"chart.brush.core"),jui.define("chart.brush.fullstack",[],function(){var a=function(a,b){var c,d,e,f,g;this.drawBefore=function(){c=a.svg.group(),d=b.y(0),e=a.data().length,f=b.x.rangeBand(),g=f-2*b.outerPadding},this.draw=function(){for(var d=a.height(),f=0;e>f;f++){for(var h=b.x(f)-g/2,i=0,j=[],k=0;k<b.target.length;k++){var l=a.data(f,b.target[k]);i+=l,j.push(l)}for(var m=0,n=b.y.max(),o=n,k=j.length-1;k>=0;k--){var l=d-b.y.rate(j[k],i),p=a.svg.rect({x:h,y:m,width:g,height:l,fill:a.color(k,b)});if(this.addEvent(p,k,f),c.append(p),b.text){var q=Math.round(j[k]/i*n),r=a.svg.text({x:h+g/2,y:m+l/2+8,"text-anchor":"middle"},(0>o-q?o:q)+"%");c.append(r),o-=q}m+=l}}return c},this.drawSetup=function(){return{outerPadding:15}}};return a},"chart.brush.core"),jui.define("chart.brush.line",[],function(){var a=function(){this.createLine=function(a,b){var c=a.x,d=a.y,e=this.chart.svg.path({stroke:this.chart.color(b,this.brush),"stroke-width":this.chart.theme("lineBorderWidth"),fill:"transparent"}).MoveTo(c[0],d[0]);if("curve"==this.brush.symbol)for(var f=this.curvePoints(c),g=this.curvePoints(d),h=0;h<c.length-1;h++)e.CurveTo(f.p1[h],g.p1[h],f.p2[h],g.p2[h],c[h+1],d[h+1]);else for(var h=0;h<c.length-1;h++){if("step"==this.brush.symbol){var i=c[h]+(c[h+1]-c[h])/2;e.LineTo(i,d[h]),e.LineTo(i,d[h+1])}e.LineTo(c[h+1],d[h+1])}return e},this.drawLine=function(a){for(var b=this.chart.svg.group(),c=0;c<a.length;c++){var d=this.createLine(a[c],c);this.addEvent(d,c,null),b.append(d)}return b},this.draw=function(){return this.drawLine(this.getXY())},this.drawSetup=function(){return{symbol:"normal"}}};return a},"chart.brush.core"),jui.define("chart.brush.path",[],function(){var a=function(a,b){this.draw=function(){for(var c=a.svg.group({"class":"brush path"}),d=a.data(),e=d.length,f=0,g=b.target.length;g>f;f++){var h=a.color(f,b),i=a.svg.path({fill:h,"fill-opacity":a.theme("pathOpacity"),stroke:h,"stroke-width":a.theme("pathBorderWidth")});c.append(i);for(var j=0;e>j;j++){var k=b.c(j,a.data(j,b.target[f])),l=k.x-a.x(),m=k.y-a.y();0==j?i.MoveTo(l,m):i.LineTo(l,m)}i.ClosePath()}return c}};return a},"chart.brush.core"),jui.define("chart.brush.pie",["util.math"],function(a){var b=function(b,c){var d,e,f,g;this.drawPie=function(b,c,d,e,f,g,h){var i=b.svg.group({"class":"pie"}),j=b.svg.path(h),k=a.rotate(0,-e,a.radian(f)),l=k.x,m=k.y;return j.MoveTo(l,m),k=a.rotate(l,m,a.radian(g)),i.translate(c,d),j.Arc(e,e,0,g>180?1:0,1,k.x,k.y),j.LineTo(0,0),j.ClosePath(),i.append(j),i},this.drawBefore=function(){var a=b.width(),c=b.height(),h=a;h>c&&(h=c),d=h/2,e=a/2,f=c/2,g=d},this.draw=function(){for(var a=b.svg.group({"class":"brush donut"}),d=c.target,h=360,i=0,j=0,k=0;k<d.length;k++)j+=b.data(0)[d[k]];for(var k=0;k<d.length;k++){var l=b.data(0)[d[k]],m=h*(l/j),n=this.drawPie(b,e,f,g,i,m,{fill:b.color(k,c),stroke:b.theme("pieBorderColor"),"stroke-width":b.theme("pieBorderWidth")});this.addEvent(n,k,0),a.append(n),i+=m}return a},this.drawSetup=function(){return{}}};return b},"chart.brush.core"),jui.define("chart.brush.scatter",[],function(){var a=function(){this.createScatter=function(a,b){var c=this,d=null,e=this.brush.display,f=this.chart.series(this.brush.target[b]),g=f.symbol?f.symbol:this.brush.symbol,i=h=this.brush.size,j=this.chart.color(b,this.brush),k=this.chart.theme("scatterBorderColor"),l=this.chart.theme("scatterBorderWidth");if("triangle"==g||"cross"==g){var c=this;d=this.chart.svg.group({width:i,height:h},function(){if("triangle"==g){var a=c.chart.svg.polygon();a.point(0,h).point(i,h).point(i/2,0)}else c.chart.svg.line({stroke:j,"stroke-width":2*l,x1:0,y1:0,x2:i,y2:h}),c.chart.svg.line({stroke:j,"stroke-width":2*l,x1:0,y1:i,x2:h,y2:0})}).translate(a.x-i/2,a.y-h/2)}else d="rectangle"==g?this.chart.svg.rect({width:i,height:h,x:a.x-i/2,y:a.y-h/2}):this.chart.svg.ellipse({rx:i/2,ry:h/2,cx:a.x,cy:a.y});return"cross"!=g&&d.attr({fill:j,stroke:k,"stroke-width":l}).hover(function(){d.attr({fill:c.chart.theme("scatterHoverColor"),stroke:j,"stroke-width":2*l})},function(){d.attr({fill:j,stroke:k,"stroke-width":l})}),("max"==e&&!a.max||"min"==e&&!a.min)&&d.attr({visibility:"hidden"}),d},this.drawScatter=function(a){for(var b=this.chart.svg.group(),c=0;c<a.length;c++)for(var d=0;d<a[c].x.length;d++){var e=this.createScatter({x:a[c].x[d],y:a[c].y[d],max:a[c].max[d],min:a[c].min[d]},c);this.addEvent(e,c,d),b.append(e)}return b},this.draw=function(){return this.drawScatter(this.getXY())},this.drawSetup=function(){return{symbol:"circle",size:7,display:null}}};return a},"chart.brush.core"),jui.define("chart.brush.stackbar",[],function(){var a=function(a,b){var c,d,e,f,g,h,i,j;this.drawBefore=function(){c=a.svg.group(),d=a.series(),e=a.data().length,f=b.y.rangeBand(),g=f-2*b.outerPadding,h=a.theme("barBorderColor"),i=a.theme("barBorderWidth"),j=a.theme("barBorderOpacity")},this.draw=function(){for(var d=0;e>d;d++){for(var f=a.svg.group(),k=b.y(d)-g/2,l=b.x(0),m=0,n=0;n<b.target.length;n++){var o=a.data(d,b.target[n])+m,p=b.x(o),q=a.svg.rect({x:p>l?l:p,y:k,width:Math.abs(l-p),height:g,fill:a.color(n,b),stroke:h,"stroke-width":i,"stroke-opacity":j});this.addEvent(q,n,d),f.append(q),l=p,m=o}c.append(f)}return c},this.drawSetup=function(){return{outerPadding:15}}};return a},"chart.brush.core"),jui.define("chart.brush.stackcolumn",[],function(){var a=function(a,b){var c,d,e,f,g,h,i,j;this.drawBefore=function(){c=a.svg.group(),d=b.y(0),e=a.data().length,f=b.x.rangeBand(),g=f-2*b.outerPadding,h=a.theme("columnBorderColor"),i=a.theme("columnBorderWidth"),j=a.theme("columnBorderOpacity")},this.draw=function(){for(var d=0;e>d;d++){for(var f=a.svg.group(),k=b.x(d)-g/2,l=b.y(0),m=0,n=0;n<b.target.length;n++){var o=a.data(d,b.target[n])+m,p=b.y(o),q=a.svg.rect({x:k,y:l>p?p:l,width:g,height:Math.abs(l-p),fill:a.color(n,b),stroke:h,"stroke-width":i,"stroke-opacity":j});this.addEvent(q,n,d),f.append(q),l=p,m=o}c.append(f)}return c},this.drawSetup=function(){return{outerPadding:15}}};return a},"chart.brush.core"),jui.define("chart.brush.bargauge",[],function(){var a=function(a,b){var c=0,d=0;this.draw=function(){var e=a.svg.group({"class":"brush bar gauge"});if(b.split)var f=a.width();else var f=a.width();for(var g=0,h=a.data().length;h>g;g++){var i=a.data(g),j=a.svg.group({"class":"bar"});j.append(a.text({x:d,y:c+b.size/2+b.cut,"text-anchor":"end",fill:a.color(g,b)},i[b.title]||"")),j.append(a.svg.rect({x:d+b.cut,y:c,width:f,height:b.size,fill:a.theme("gaugeBackgroundColor")}));var k=i.value*f/100,l=(100-i.value)*f/100,m=d+b.cut;if("center"==b.align?m+=f/2-k/2:"right"==b.align&&(m+=f-k),j.append(a.svg.rect({x:m,y:c,width:k,height:b.size,fill:a.color(g,b)})),b.split)var n=d+k+2*b.cut+l,o="start",p=a.color(g,b);else{var n=d+2*b.cut,o="start",p="white";"center"==this.align?(n=d+b.cut+f/2,o="middle"):"right"==b.align&&(n=d+f,o="end")}j.append(a.text({x:n,y:c+b.size/2+b.cut,"text-anchor":o,fill:p},b.format?b.format(i.value):i.value+"%")),this.addEvent(j,null,g),e.append(j),c+=b.size+b.cut}return e},this.drawSetup=function(){return{cut:5,size:20,split:!1,align:"left",title:"title"}}};return a},"chart.brush.core"),jui.define("chart.brush.circlegauge",["util.math"],function(){var a=function(a,b){var c,d,e,f;this.drawBefore=function(){var b=a.width(),g=a.height(),h=b;h>g&&(h=g),c=h/2,d=b/2,e=g/2,f=c},this.draw=function(){var c=(b.value-b.min)/(b.max-b.min),g=a.svg.group({"class":"brush circle gauge"});return g.append(a.svg.circle({cx:d,cy:e,r:f,fill:a.theme("gaugeBackgroundColor"),stroke:a.color(0,b),"stroke-width":2})),g.append(a.svg.circle({cx:d,cy:e,r:f*c,fill:a.color(0,b)})),this.addEvent(g,null,null),g},this.drawSetup=function(){return{min:0,max:100,value:0}}};return a},"chart.brush.core"),jui.define("chart.brush.fillgauge",["jquery"],function(a){var b=function(b,c){function d(a){var d=(c.value-c.min)/(c.max-c.min);if("vertical"==a)var e=b.height()*d,f=b.width(),g=0,h=b.height()-e;else var e=b.height(),f=b.width()*d,g=0,h=0;k.attr({x:g,y:h,width:f,height:e})}function e(a,d){a.append(b.svg.path({x:0,y:0,fill:b.theme("gaugeBackgroundColor"),d:d})),a.append(b.svg.path({x:0,y:0,fill:b.color(0,c),d:d,"clip-path":"url(#"+j+")"}))}var f,g,h,i,j,k;this.drawBefore=function(){var a=b.width(),c=b.height(),d=a;d>c&&(d=c),f=d/2,g=a/2,h=c/2,i=f,j=b.createId("fill-gauge");var e=b.svg.clipPath({id:j});k=b.svg.rect({x:0,y:0,width:0,height:0}),e.append(k),b.defs.append(e)},this.draw=function(){var f=b.svg.group({"class":"brush fill gauge",opacity:.8});return d(c.direction),""!=c.svg||""!=c.path?""!=c.svg?a.ajax({url:c.svg,async:!1,success:function(b){var c=a(b).find("path").attr("d");e(f,c)}}):e(f,c.path):"circle"==c.shape?(f.append(b.svg.circle({cx:g,cy:h,r:i,fill:b.theme("gaugeBackgroundColor")})),f.append(b.svg.circle({cx:g,cy:h,r:i,fill:b.color(0,c),"clip-path":"url(#"+j+")"}))):"rectangle"==c.shape&&(f.append(b.svg.rect({x:0,y:0,width:b.width(),height:b.height(),fill:b.theme("gaugeBackgroundColor")})),f.append(b.svg.rect({x:0,y:0,width:b.width(),height:b.height(),fill:b.color(0,c),"clip-path":"url(#"+j+")"}))),f},this.drawSetup=function(){return{min:0,max:100,value:0,shape:"circle",direction:"vertical",svg:"",path:""}}};return b},"chart.brush.core"),jui.define("chart.brush.area",[],function(){var a=function(){this.drawArea=function(a){for(var b=this.chart.svg.group(),c=this.chart.height(),d=0;d<a.length;d++){var e=this.createLine(a[d],d),f=a[d].x;e.LineTo(f[f.length-1],c),e.LineTo(f[0],c),e.ClosePath(),e.attr({fill:this.chart.color(d,this.brush),"fill-opacity":this.chart.theme("areaOpacity"),"stroke-width":0}),this.addEvent(e,null,null),b.prepend(e)}return b},this.draw=function(){return this.drawArea(this.getXY())}};return a},"chart.brush.line"),jui.define("chart.brush.stackline",[],function(){var a=function(){this.draw=function(){return this.drawLine(this.getStackXY())}};return a},"chart.brush.line"),jui.define("chart.brush.stackarea",[],function(){var a=function(){this.draw=function(){return this.drawArea(this.getStackXY())}};return a},"chart.brush.area"),jui.define("chart.brush.stackscatter",[],function(){var a=function(){this.draw=function(){return this.drawScatter(this.getStackXY())}};return a},"chart.brush.scatter"),jui.define("chart.brush.gauge",["util.math"],function(a){var b=function(b,c){function d(d,e,f,j,k){var l=b.svg.group({"class":"gauge text"}).translate(g,h);l.append(b.svg.text({x:0,y:c.arrow?70:10,"text-anchor":"middle","font-family":b.theme("fontFamily"),"font-size":"3em","font-weight":1e3,fill:b.color(0,c)},k+"")),""!=c.unitText&&l.append(b.text({x:0,y:100,"text-anchor":"middle","font-family":b.theme("fontFamily"),"font-size":"1.5em","font-weight":500,fill:b.theme("gaugeFontColor")},c.unitText));var m=0,n=-i,o=a.rotate(m,n,a.radian(d));m=o.x,n=o.y,l.append(b.text({x:o.x+30,y:o.y+20,"text-anchor":"middle","font-family":b.theme("fontFamily"),fill:b.theme("gaugeFontColor")},f+""));var o=a.rotate(m,n,a.radian(e));return l.append(b.text({x:o.x-20,y:o.y+20,"text-anchor":"middle","font-family":b.theme("fontFamily"),fill:b.theme("gaugeFontColor")},j+"")),l}function e(a,c){var d=b.svg.group({"class":"gauge block"}).translate(g,h),e=0,f=-(i+5),j=b.svg.path({stroke:b.theme("gaugeArrowColor"),"stroke-width":.2,fill:b.theme("gaugeArrowColor")});return j.MoveTo(e,f),j.LineTo(5,0),j.LineTo(-5,0),j.ClosePath(),j.rotate(a),d.append(j),j.rotate(c+a),d.append(b.svg.circle({cx:0,cy:0,r:5,fill:b.theme("gaugeArrowColor")})),d.append(b.svg.circle({cx:0,cy:0,r:2,fill:b.theme("gaugeArrowColor")})),d}var f,g,h,i,j;this.drawBefore=function(){var a=b.width(),d=b.height(),e=a;e>d&&(e=d),f=e/2,g=a/2,h=d/2,i=f,j=i-c.size},this.draw=function(){var a=b.svg.group({"class":"brush gauge"}),f=(c.value-c.min)/(c.max-c.min),k=c.endAngle*f;c.endAngle>=360&&(c.endAngle=359.99999);var l=this.drawDonut(g,h,j,i,c.startAngle+k,c.endAngle-k,{fill:b.theme("gaugeBackgroundColor")});return a.append(l),l=this.drawDonut(g,h,j,i,c.startAngle,k,{fill:b.color(0,c)}),a.append(l),c.arrow&&(l=e(c.startAngle,k),a.append(l)),l=d(c.startAngle,c.endAngle,c.min,c.max,c.value),a.append(l),a},this.drawSetup=function(){return{min:0,max:100,value:0,size:60,startAngle:0,endAngle:360,arrow:!0,unitText:""}}};return b},"chart.brush.donut"),jui.define("chart.brush.fullgauge",["util.math"],function(){var a=function(a,b){function c(c,d,g,h,i){var j=a.svg.group({"class":"gauge text"});return j.translate(e,f),""!=b.text&&j.append(a.svg.text({x:0,y:10,"text-anchor":"middle","font-family":a.theme("fontFamily"),"font-size":"3.5em","font-weight":1e3,fill:a.color(0,b)},i+"")),""!=b.unitText&&j.append(a.text({x:0,y:40,"text-anchor":"middle","font-family":a.theme("fontFamily"),"font-size":"2em","font-weight":500,fill:a.theme("gaugeFontColor")},b.unitText)),j}var d,e,f,g,h;this.drawBefore=function(){var c=a.width(),i=a.height(),j=c;j>i&&(j=i),d=j/2,e=c/2,f=i/2,g=d,h=g-b.size},this.draw=function(){var d=a.svg.group({"class":"brush donut"}),i=(b.value-b.min)/(b.max-b.min),j=b.endAngle*i;b.endAngle>=360&&(b.endAngle=359.99999);var k=this.drawDonut(e,f,h,g,b.startAngle+j,b.endAngle-j,{fill:a.theme("gaugeBackgroundColor")});return d.append(k),k=this.drawDonut(e,f,h,g,b.startAngle,j,{fill:a.color(0,b)}),d.append(k),k=c(b.startAngle,b.endAngle,b.min,b.max,b.value),d.append(k),d},this.drawSetup=function(){return{min:0,max:100,value:0,size:60,startAngle:0,endAngle:300,text:"",unitText:""}}};return a},"chart.brush.donut"),jui.define("chart.brush.stackgauge",["util.math"],function(){var a=function(a,b){var c,d,e,f;this.drawBefore=function(){var b=a.width(),g=a.height(),h=b;h>g&&(h=g),c=h/2,d=b/2,e=g/2,f=c},this.draw=function(){for(var c=a.svg.group({"class":"brush donut"}),g=0,h=a.data().length;h>g;g++){var i=(a.data(g)[b.target]-b.min)/(b.max-b.min),j=b.endAngle*i,k=f-b.size+b.cut;b.endAngle>=360&&(b.endAngle=359.99999);var l=this.drawDonut(d,e,k,f,b.startAngle+j,b.endAngle-j,{fill:a.theme("gaugeBackgroundColor")});c.append(l),l=this.drawDonut(d,e,k,f,b.startAngle,j,{fill:a.color(g,b)},!0),c.append(l),c.append(a.text({x:d+2,y:e+Math.abs(f)-5,fill:a.color(g,b),"font-size":"12px","font-weight":"bold"},a.data(g)[b.title]||"")),f-=b.size}return c},this.drawSetup=function(){return{min:0,max:100,cut:5,size:24,startAngle:-180,endAngle:360,title:"title"}}};return a},"chart.brush.donut"),jui.define("chart.brush.waterfall",[],function(){var a=function(a,b){var c,d,e,f,g,h,i;this.drawBefore=function(){c=a.svg.group(),i=b.outerPadding,d=b.y(0),e=a.data().length,f=b.x.rangeBand(),h=f-2*i,g=(f-2*i-(b.target.length-1))/b.target.length},this.draw=function(){for(var f=b.target[0],j=a.theme("waterfallLineColor"),k=0;e>k;k++){var l=b.x(k)-h/2,m=b.y(a.data(k)[f]),n=null,o=null;if(0==k||k==e-1&&b.end){var p=a.theme("waterfallEdgeBackgroundColor");n=a.svg.rect(d>=m?{x:l,y:m,width:g,height:Math.abs(d-m),fill:p}:{x:l,y:d,width:g,height:Math.abs(d-m),fill:p})}else{var q=a.data(k-1)[f],r=a.data(k)[f],s=b.y(q),t=b.y(r),u=s-t;n=a.svg.rect(u>0?{x:l,y:s-u,width:g,height:Math.abs(u),fill:a.theme("waterfallBackgroundColor")}:{x:l,y:s,width:g,height:Math.abs(u),fill:a.theme("waterfallInvertBackgroundColor")}),b.line&&(o=a.svg.line({x1:l-2*i,y1:t+u,x2:l,y2:t+u,stroke:j,"stroke-width":1,"stroke-dasharray":a.theme("waterfallLineDashArray")}),c.append(o))}this.addEvent(n,0,k),c.append(n),l+=g}return c},this.drawSetup=function(){return{line:!0,end:!1,outerPadding:5}}};return a},"chart.brush.core"),jui.define("chart.brush.splitline",["util.base"],function(){var a=function(){this.createLine=function(a,b){var c,d,e={stroke:this.chart.color(b,this.brush),"stroke-width":this.chart.theme("lineBorderWidth"),fill:"transparent"},f=this.brush.split,g=this.brush.symbol,h=a.x,i=a.y,j=this.chart.svg.group(),k=this.chart.svg.path(e).MoveTo(h[0],i[0]);
"curve"==g&&(c=this.curvePoints(h),d=this.curvePoints(i));for(var l=0;l<h.length-1;l++){if(l==f){var m=this.chart.theme("lineSplitBorderColor"),n=this.chart.theme("lineSplitBorderOpacity");j.append(k),e.stroke=null!=m?m:this.chart.color(b,this.brush),e["stroke-opacity"]=n,k=this.chart.svg.path(e).MoveTo(h[l],i[l])}if("step"==g){var o=h[l]+(h[l+1]-h[l])/2;k.LineTo(o,i[l]),k.LineTo(o,i[l+1])}"curve"!=g?k.LineTo(h[l+1],i[l+1]):k.CurveTo(c.p1[l],d.p1[l],c.p2[l],d.p2[l],h[l+1],i[l+1])}return j.append(k),j},this.drawLine=function(a){for(var b=this.chart.svg.group(),c=0;c<a.length;c++){var d=this.createLine(a[c],c);this.addEvent(d,c,null),b.append(d)}return b},this.draw=function(){return this.drawLine(this.getXY())},this.drawSetup=function(){return{symbol:"normal",split:null}}};return a},"chart.brush.core"),jui.define("chart.brush.splitarea",["util.base"],function(){var a=function(){this.drawArea=function(a){for(var b=this.chart.svg.group(),c=this.chart.height(),d=this.brush.split,e=this.chart.theme("areaSplitBackgroundColor"),f=0;f<a.length;f++){var g={fill:this.chart.color(f,this.brush),"fill-opacity":this.chart.theme("areaOpacity"),"stroke-width":0},h=this.createLine(a[f],f),i=a[f].x;h.each(function(a,b){0==a?(d=null!=d?d:i.length-1,b.LineTo(i[d],c),b.LineTo(i[0],c),b.attr(g)):(g.fill=e,b.LineTo(i[i.length-1],c),b.LineTo(i[d],c),b.attr(g)),b.ClosePath()}),this.addEvent(h,null,null),b.prepend(h)}return b},this.draw=function(){return this.drawArea(this.getXY())}};return a},"chart.brush.splitline"),jui.define("chart.brush.rangecolumn",[],function(){var a=function(a,b){var c,d,e,f,g,h,i,j,k,l;this.drawBefore=function(){c=a.svg.group(),h=b.outerPadding,i=b.innerPadding,d=a.data().length,e=b.x.rangeBand(),g=e-2*h,f=(e-2*h-(b.target.length-1)*i)/b.target.length,j=a.theme("columnBorderColor"),k=a.theme("columnBorderWidth"),l=a.theme("columnBorderOpacity")},this.draw=function(){for(var e=0;d>e;e++)for(var h=b.x(e)-g/2,m=0;m<b.target.length;m++){var n=a.data(e)[b.target[m]],o=b.y(n[1]),p=b.y(n[0]),q=a.svg.rect({x:h,y:o,width:f,height:Math.abs(p-o),fill:a.color(m,b),stroke:j,"stroke-width":k,"stroke-opacity":l});this.addEvent(q,m,e),c.append(q),h+=f+i}return c},this.drawSetup=function(){return{outerPadding:2,innerPadding:1}}};return a},"chart.brush.core"),jui.define("chart.brush.rangebar",[],function(){var a=function(a,b){var c,d,e,f,g,h,i,j,k,l;this.drawBefore=function(){c=a.svg.group(),h=b.outerPadding,i=b.innerPadding,d=a.data().length,e=b.y.rangeBand(),f=e-2*h,g=(f-(b.target.length-1)*i)/b.target.length,j=a.theme("barBorderColor"),k=a.theme("barBorderWidth"),l=a.theme("barBorderOpacity")},this.draw=function(){for(var e=0;d>e;e++){for(var h=a.svg.group(),m=b.y(e)-f/2,n=0;n<b.target.length;n++){var o=a.data(e,b.target[n]),p=b.x(o[1]),q=b.x(o[0]),r=a.svg.rect({x:q,y:m,height:g,width:Math.abs(q-p),fill:a.color(n,b),stroke:j,"stroke-width":k,"stroke-opacity":l});this.addEvent(r,n,e),h.append(r),m+=g+i}c.append(h)}return c},this.drawSetup=function(){return{outerPadding:2,innerPadding:1}}};return a},"chart.brush.core"),jui.define("chart.widget.core",["util.base"],function(a){var b=function(){this.balloonPoints=function(a,b,c,d){var e=[];return"top"==a?(e.push([0,0].join(",")),e.push([b,0].join(",")),e.push([b,c].join(",")),e.push([b/2+d/2,c].join(",")),e.push([b/2,c+d].join(",")),e.push([b/2-d/2,c].join(",")),e.push([0,c].join(","))):"bottom"==a?(e.push([0,d].join(",")),e.push([b/2-d/2,d].join(",")),e.push([b/2,0].join(",")),e.push([b/2+d/2,d].join(",")),e.push([b,d].join(",")),e.push([b,d+c].join(",")),e.push([0,d+c].join(","))):"left"==a?(e.push([0,0].join(",")),e.push([b,0].join(",")),e.push([b,c/2-d/2].join(",")),e.push([b+d,c/2].join(",")),e.push([b,c/2+d/2].join(",")),e.push([b,c].join(",")),e.push([0,c].join(","))):"right"==a&&(e.push([0,0].join(",")),e.push([b,0].join(",")),e.push([b,c].join(",")),e.push([0,c].join(",")),e.push([0,c/2+d/2].join(",")),e.push([0-d,c/2].join(",")),e.push([0,c/2-d/2].join(","))),e.push([0,0].join(",")),e.join(" ")},this.eachBrush=function(b){if(a.typeCheck("function",b))for(var c=this.getBrush(),d=0;d<c.length;d++)b.prototype=this,new b(d,this.chart.brush(d))},this.getBrush=function(){var b=this.widget.brush,c=[0];return a.typeCheck("array",b)?c=b:a.typeCheck("integer",b)&&(c=[b]),c},this.existBrush=function(a){var b=this.getBrush();return-1==$.inArray(a,b)?!1:!0},this.isRender=function(){return this.widget.render===!0?!0:!1},this.drawSetup=function(){return{brush:null,render:!1}}};return b},"chart.draw"),jui.define("chart.widget.tooltip",["jquery"],function(a){var b=function(b,c){function d(a,b){if(!l[a]){var c=document.createElementNS("http://www.w3.org/2000/svg","tspan");g.element.appendChild(c),l[a]=c}l[a].textContent=b}function e(a){if(a.dataKey&&c.all===!1){var e=b.series(a.dataKey),f=a.dataKey,h=null!=a.data?a.data[f]:null;"bottom"==c.position&&g.attr({y:k+j});var m=c.format(e.text?e.text:f,h);d(0,m),g.attr({"text-anchor":"middle"})}else{for(var n=b.brush(a.brush.index),o=0;o<n.target.length;o++){var p=n.target[o],e=b.series(p),q=i,r=k*o+2*i,h=null!=a.data?a.data[p]:null;"bottom"==c.position&&(r+=j);var m=c.format(e.text?e.text:p,h);d(o,m),l[o].setAttribute("x",q),l[o].setAttribute("y",r)}g.attr({"text-anchor":"inherit"})}}var f,g,h,i=7,j=7,k=14,l=[];this.drawBefore=function(){f=b.svg.group({visibility:"hidden"},function(){h=b.svg.polygon({fill:b.theme("tooltipBackgroundColor"),"fill-opacity":b.theme("tooltipOpacity"),stroke:b.theme("tooltipBorderColor"),"stroke-width":1}),g=b.svg.text({"font-family":b.theme("fontFamily"),"font-size":b.theme("tooltipFontSize"),fill:b.theme("tooltipFontColor"),y:k})})},this.draw=function(){var a,d,k=this,l=!1;return b.on("mouseover",function(b){if(!l&&k.existBrush(b.brush.index)&&(b.dataKey||b.data)){e(b);var m=g.size();a=m.width+2*i,d=m.height+i,g.attr({x:a/2}),h.attr({points:k.balloonPoints(c.position,a,d,j)}),f.attr({visibility:"visible"}),l=!0}}),b.on("mousemove",function(b,e){if(l){var g=e.bgX-a/2,h=e.bgY-d-j-i/2;("left"==c.position||"right"==c.position)&&(h=e.bgY-d/2-i/2),"left"==c.position?g=e.bgX-a-j:"right"==c.position?g=e.bgX+j:"bottom"==c.position&&(h=e.bgY+2*j),f.translate(g,h)}}),b.on("mouseout",function(){l&&(f.attr({visibility:"hidden"}),l=!1)}),f},this.drawSetup=function(){var c=function(a,c){return c?a+": "+b.format(c):a};return a.extend(this.parent.drawSetup(),{position:"top",all:!1,format:c})}};return b},"chart.widget.core"),jui.define("chart.widget.title",["util.base","util.math"],function(){var a=function(a,b){var c=0,d=0,e="middle";this.drawBefore=function(){d="bottom"==b.position?a.y2()+a.padding("bottom")-20:"top"==b.position?20:a.y()+a.height()/2,"center"==b.align?(c=a.x()+a.width()/2,e="middle"):"start"==b.align?(c=a.x(),e="start"):(c=a.x2(),e="end")},this.draw=function(){if(""!=b.text){var f=a.svg.getTextRect(b.text),g=f.width/2,h=f.height/2,i=a.text({x:c+b.dx,y:d+b.dy,"text-anchor":e,"font-family":a.theme("fontFamily"),"font-size":a.theme("titleFontSize"),fill:a.theme("titleFontColor")},b.text);return"center"==b.position&&("start"==b.align?i.rotate(-90,c+b.dx+g,d+b.dy+h):"end"==b.align&&i.rotate(90,c+b.dx-g,d+b.dy+h)),i}},this.drawSetup=function(){return $.extend(this.parent.drawSetup(),{position:"top",align:"center",text:"",dx:0,dy:0})}};return a},"chart.widget.core"),jui.define("chart.widget.legend",["util.base"],function(){var a=function(a,b){function c(a){if(b.filter)for(var c=0;c<a.target.length;c++)e[a.target[c]]=!0}function d(b){var c=[];for(var d in e)e[d]&&c.push(d);a.updateBrush(b.index,{target:c})}var e={};this.getLegendIcon=function(c){for(var f=[],g=c.target,h=g.length,i=0;h>i;i++){var j=c.target[i],k=a.series(j).text||j,l=a.svg.getTextRect(k),m=Math.min(l.width,l.height),n=m,o=a.svg.group({"class":"legend icon"});o.append(a.svg.rect({x:0,y:0,width:m,height:n,fill:a.color(i,c)})),o.append(a.text({x:m+4,y:11,"font-family":a.theme("fontFamily"),"font-size":a.theme("legendFontSize"),fill:a.theme("legendFontColor"),"text-anchor":"start"},k)),f.push({icon:o,width:m+4+l.width+10,height:n+4}),b.filter&&!function(a,b){b.attr({cursor:"pointer"}),b.on("click",function(){e[a]?(b.attr({opacity:.7}),e[a]=!1):(b.attr({opacity:1}),e[a]=!0),d(c)})}(j,o)}return f},this.draw=function(){var d=a.svg.group({"class":"widget legend"}),e=0,f=0,g=0,h=0,i=0,j=0;if(this.eachBrush(function(a,k){for(var l=this.getLegendIcon(k),m=0;m<l.length;m++)d.append(l[m].icon),l[m].icon.translate(e,f),"bottom"==b.position||"top"==b.position?(e+=l[m].width,g+=l[m].width,j<l[m].height&&(j=l[m].height)):(f+=l[m].height,h+=l[m].height,i<l[m].width&&(i=l[m].width));c(k)}),"bottom"==b.position||"top"==b.position){var f="bottom"==b.position?a.y2()+a.padding("bottom")-j:a.y()-a.padding("top");"start"==b.align?e=a.x():"center"==b.align?e=a.x()+(a.width()/2-g/2):"end"==b.align&&(e=a.x2()-g)}else{var e="left"==b.position?a.x()-a.padding("left"):a.x2()+a.padding("right")-i;"start"==b.align?f=a.y():"center"==b.align?f=a.y()+(a.height()/2-h/2):"end"==b.align&&(f=a.y2()-h)}return d.translate(Math.floor(e),Math.floor(f)),d},this.drawSetup=function(){return $.extend(this.parent.drawSetup(),{position:"bottom",align:"center",filter:!1})}};return a},"chart.widget.core"),jui.define("chart.widget.scroll",["util.base"],function(){var a=function(a){function b(a,b){function f(f){if(j){var g=l+f.bgX-k;0>g?g=0:g+c>a.width()&&(g=a.width()-c),b.translate(g,1),d=g;var m=g*i,n=0==m?0:Math.floor(m/h);g+c==a.width()&&(n+=1),a.zoom(n,n+e)}}function g(){j&&(j=!1,k=0,l=0)}var j=!1,k=0,l=0;a.on("bg.mousedown",function(a){j&&b.element!=a.target||(j=!0,k=a.bgX,l=d)}),a.on("bg.mousemove",f),a.on("bg.mouseup",g),a.on("chart.mousemove",f),a.on("chart.mouseup",g)}var c=0,d=0,e=0,f=0,g=0,h=0,i=0;this.drawBefore=function(){var b=a.options;f=b.data.length,e=b.bufferCount,h=a.width()/e,g=h*f,i=g/a.width(),c=a.width()*(e/f)+2},this.draw=function(){return a.svg.group({},function(){a.svg.rect({width:a.width(),height:7,fill:a.theme("scrollBackgroundColor")});var e=a.svg.rect({width:c,height:5,fill:a.theme("scrollThumbBackgroundColor"),stroke:a.theme("scrollThumbBorderColor"),cursor:"pointer","stroke-width":1}).translate(d,1);b(a,e)}).translate(a.x(),a.y2())},this.drawSetup=function(){return this.parent.drawSetup()}};return a},"chart.widget.core"),jui.define("chart.widget.zoom",["util.base"],function(){var a=function(a){function b(a,b,c){function e(){f=!1,g=0,h=0,b.attr({width:0})}var f=!1,g=0,h=0;a.on("chart.mousedown",function(b){f||a.zoom().start>0||(f=!0,g=b.bgX)}),a.on("chart.mousemove",function(c){f&&(h=c.bgX-g,h>0?(b.attr({width:h}),b.translate(g,a.y())):(b.attr({width:Math.abs(h)}),b.translate(g+h,a.y())))}),a.on("chart.mouseup",function(){f=!1}),a.addEvent("body","mouseup",function(){if(0!=h){var b=(h>0?g:g+h)-a.padding("left"),f=Math.floor(b/d),i=Math.ceil((b+Math.abs(h))/d);i>f&&(a.zoom(f,i),c.attr({visibility:"visible"})),e()}})}var c,d;this.drawBefore=function(){var b=a.options,e=b.data.length;c=e<b.bufferCount&&e>0?e:b.bufferCount,d=a.width()/c},this.draw=function(){var c=a.width(),d=a.height(),e=12;return a.svg.group({},function(){var f=a.svg.rect({height:d,fill:a.theme("zoomBackgroundColor"),opacity:.3}),g=a.svg.group({visibility:"hidden"},function(){a.svg.rect({width:c,height:d,fill:a.theme("zoomFocusColor"),opacity:.2}),a.svg.group({cursor:"pointer"},function(){a.svg.circle({r:e,cx:c,cy:0,opacity:0}),a.svg.path({d:"M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M16.9,15.5l-1.4,1.4L12,13.4l-3.5,3.5   l-1.4-1.4l3.5-3.5L7.1,8.5l1.4-1.4l3.5,3.5l3.5-3.5l1.4,1.4L13.4,12L16.9,15.5z",fill:a.theme("zoomFocusColor")}).translate(c-e,-e)}).on("click",function(){g.attr({visibility:"hidden"}),a.page(1)})}).translate(a.x(),a.y());b(a,f,g)})},this.drawSetup=function(){return this.parent.drawSetup()}};return a},"chart.widget.core"),jui.define("chart.widget.cross",["util.base"],function(a){var b=function(b,c){function d(a,b,d){if(!n[a]){var e=document.createElementNS("http://www.w3.org/2000/svg","tspan");b.element.appendChild(e),n[a]=e}n[a].textContent=c.format(d)}var e,f,g,h,i,j=this,k=50,l=18,m=k/10,n=[];this.drawBefore=function(){e=b.svg.group({visibility:"hidden"},function(){f=b.svg.line({x1:0,y1:0,x2:b.width(),y2:0,stroke:b.theme("crossBorderColor"),"stroke-width":b.theme("crossBorderWidth"),opacity:b.theme("crossBorderOpacity")}),g=b.svg.line({x1:0,y1:0,x2:0,y2:b.height(),stroke:b.theme("crossBorderColor"),"stroke-width":b.theme("crossBorderWidth"),opacity:b.theme("crossBorderOpacity")}),a.typeCheck("function",c.format)&&(i=b.svg.group({},function(){b.svg.polygon({fill:b.theme("crossBalloonBackgroundColor"),"fill-opacity":b.theme("crossBalloonOpacity"),points:j.balloonPoints("left",k,l,m)}),b.svg.text({"font-family":b.theme("fontFamily"),"font-size":b.theme("crossBalloonFontSize"),fill:b.theme("crossBalloonFontColor"),"text-anchor":"middle",x:k/2,y:12})}).translate(-(k+m),0),h=b.svg.group({},function(){b.svg.polygon({fill:b.theme("crossBalloonBackgroundColor"),"fill-opacity":b.theme("crossBalloonOpacity"),points:j.balloonPoints("bottom",k,l,m)}),b.svg.text({"font-family":b.theme("fontFamily"),"font-size":b.theme("crossBalloonFontSize"),fill:b.theme("crossBalloonFontColor"),"text-anchor":"middle",x:k/2,y:17})}).translate(0,b.height()+m))}).translate(b.x(),b.y())},this.draw=function(){return b.on("chart.mouseover",function(){e.attr({visibility:"visible"})}),b.on("chart.mouseout",function(){e.attr({visibility:"hidden"})}),b.on("chart.mousemove",function(e){var n=e.chartX+2,o=e.chartY+2;f.attr({y1:o,y2:o}),g.attr({x1:n,x2:n}),a.typeCheck("function",c.format)&&(i&&(i.translate(-(k+m),o-l/2),d(0,i.get(1),j.widget.y.invert(o))),h&&(h.translate(n-k/2,b.height()+m),d(1,h.get(1),j.widget.x.invert(n))))}),e},this.drawSetup=function(){var a=function(a){return b.format(a)};return $.extend(this.parent.drawSetup(),{format:a})}};return b},"chart.widget.core"),jui.defineUI("chartx.realtime",["jquery","util.base","util.time","chart.builder"],function(a,b,c,d){var e=function(){function e(a){for(var b=f(a),c=0;c<i.length&&i[c][a.options.grid.key].getTime()<=b[0].getTime();c++)i.splice(c,1);a.chart.options.grid.x.domain=b,a.chart.update(i)}function f(a){var b=new Date,d=c.add(b,c.minutes,-a.options.period);return[d,b]}function g(b){var c={},d=["grid","interval","period"];for(var e in b.options)-1==a.inArray(e,d)&&(c[e]=b.options[e]);return c}var h=null,i=[];this.init=function(){var e=this.options,h=b.typeCheck("array",e.brush)?e.brush[0].target:e.brush.target;this.chart=d(this.selector,a.extend(!0,{bufferCount:60*e.period,grid:{x:{type:"date",domain:f(this),step:[c.minutes,e.grid.xstep],realtime:!0,format:e.grid.format,key:e.grid.key,line:e.grid.xline},y:{type:"range",target:null!=e.grid.target?e.grid.target:h,step:e.grid.ystep,line:e.grid.yline}}},g(this))),e.data.length>0&&this.update(e.data),this.start()},this.update=function(a){i=a,this.chart.update(i)},this.clear=function(){i=[],this.chart.update([])},this.reset=function(){this.clear(),this.stop()},this.append=function(a){var c=a;b.typeCheck("array",a)||(c=[a]),i=i.concat(c)},this.start=function(){if(null==h){var a=this;h=setInterval(function(){e(a)},1e3*this.interval)}},this.stop=function(){null!=h&&(clearInterval(h),h=null)}};return e.setup=function(){return{width:"100%",height:"100%",padding:{left:50,right:50,bottom:50,top:50},theme:"jennifer",data:[],style:{},series:{},brush:null,widget:null,grid:{target:null,format:"hh:mm",key:"time",xstep:1,ystep:10,xline:!0,yline:!0},interval:1,period:5}},e},"core");